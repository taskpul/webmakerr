{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/lib/config.ts"],"sourcesContent":["import Medusa from \"@medusajs/js-sdk\"\n\n// Defaults to standard port for Medusa server\nlet MEDUSA_BACKEND_URL = \"http://localhost:9000\"\n\nif (process.env.MEDUSA_BACKEND_URL) {\n  MEDUSA_BACKEND_URL = process.env.MEDUSA_BACKEND_URL\n}\n\nexport const sdk = new Medusa({\n  baseUrl: MEDUSA_BACKEND_URL,\n  debug: process.env.NODE_ENV === \"development\",\n  publishableKey: process.env.NEXT_PUBLIC_MEDUSA_PUBLISHABLE_KEY,\n})\n"],"names":[],"mappings":";;;;AAAA;;AAEA,8CAA8C;AAC9C,IAAI,qBAAqB;AAEzB,IAAI,QAAQ,GAAG,CAAC,kBAAkB,EAAE;IAClC,qBAAqB,QAAQ,GAAG,CAAC,kBAAkB;AACrD;AAEO,MAAM,MAAM,IAAI,0LAAM,CAAC;IAC5B,SAAS;IACT,OAAO,oDAAyB;IAChC,cAAc;AAChB","debugId":null}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/lib/util/medusa-error.ts"],"sourcesContent":["export default function medusaError(error: any): never {\n  if (error.response) {\n    // The request was made and the server responded with a status code\n    // that falls out of the range of 2xx\n    const u = new URL(error.config.url, error.config.baseURL)\n    console.error(\"Resource:\", u.toString())\n    console.error(\"Response data:\", error.response.data)\n    console.error(\"Status code:\", error.response.status)\n    console.error(\"Headers:\", error.response.headers)\n\n    // Extracting the error message from the response data\n    const message = error.response.data.message || error.response.data\n\n    throw new Error(message.charAt(0).toUpperCase() + message.slice(1) + \".\")\n  } else if (error.request) {\n    // The request was made but no response was received\n    throw new Error(\"No response received: \" + error.request)\n  } else {\n    // Something happened in setting up the request that triggered an Error\n    throw new Error(\"Error setting up the request: \" + error.message)\n  }\n}\n"],"names":[],"mappings":";;;;AAAe,SAAS,YAAY,KAAU;IAC5C,IAAI,MAAM,QAAQ,EAAE;QAClB,mEAAmE;QACnE,qCAAqC;QACrC,MAAM,IAAI,IAAI,IAAI,MAAM,MAAM,CAAC,GAAG,EAAE,MAAM,MAAM,CAAC,OAAO;QACxD,QAAQ,KAAK,CAAC,aAAa,EAAE,QAAQ;QACrC,QAAQ,KAAK,CAAC,kBAAkB,MAAM,QAAQ,CAAC,IAAI;QACnD,QAAQ,KAAK,CAAC,gBAAgB,MAAM,QAAQ,CAAC,MAAM;QACnD,QAAQ,KAAK,CAAC,YAAY,MAAM,QAAQ,CAAC,OAAO;QAEhD,sDAAsD;QACtD,MAAM,UAAU,MAAM,QAAQ,CAAC,IAAI,CAAC,OAAO,IAAI,MAAM,QAAQ,CAAC,IAAI;QAElE,MAAM,IAAI,MAAM,QAAQ,MAAM,CAAC,GAAG,WAAW,KAAK,QAAQ,KAAK,CAAC,KAAK;IACvE,OAAO,IAAI,MAAM,OAAO,EAAE;QACxB,oDAAoD;QACpD,MAAM,IAAI,MAAM,2BAA2B,MAAM,OAAO;IAC1D,OAAO;QACL,uEAAuE;QACvE,MAAM,IAAI,MAAM,mCAAmC,MAAM,OAAO;IAClE;AACF","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/lib/data/cookies.ts"],"sourcesContent":["import \"server-only\"\nimport { cookies as nextCookies } from \"next/headers\"\n\nexport const getAuthHeaders = async (): Promise<\n  { authorization: string } | {}\n> => {\n  try {\n    const cookies = await nextCookies()\n    const token = cookies.get(\"_medusa_jwt\")?.value\n\n    if (!token) {\n      return {}\n    }\n\n    return { authorization: `Bearer ${token}` }\n  } catch {\n    return {}\n  }\n}\n\nexport const getCacheTag = async (tag: string): Promise<string> => {\n  try {\n    const cookies = await nextCookies()\n    const cacheId = cookies.get(\"_medusa_cache_id\")?.value\n\n    if (!cacheId) {\n      return \"\"\n    }\n\n    return `${tag}-${cacheId}`\n  } catch (error) {\n    return \"\"\n  }\n}\n\nexport const getCacheOptions = async (\n  tag: string\n): Promise<{ tags: string[] } | {}> => {\n  if (typeof window !== \"undefined\") {\n    return {}\n  }\n\n  const cacheTag = await getCacheTag(tag)\n\n  if (!cacheTag) {\n    return {}\n  }\n\n  return { tags: [`${cacheTag}`] }\n}\n\nexport const setAuthToken = async (token: string) => {\n  const cookies = await nextCookies()\n  cookies.set(\"_medusa_jwt\", token, {\n    maxAge: 60 * 60 * 24 * 7,\n    httpOnly: true,\n    sameSite: \"strict\",\n    secure: process.env.NODE_ENV === \"production\",\n  })\n}\n\nexport const removeAuthToken = async () => {\n  const cookies = await nextCookies()\n  cookies.set(\"_medusa_jwt\", \"\", {\n    maxAge: -1,\n  })\n}\n\nexport const getCartId = async () => {\n  const cookies = await nextCookies()\n  return cookies.get(\"_medusa_cart_id\")?.value\n}\n\nexport const setCartId = async (cartId: string) => {\n  const cookies = await nextCookies()\n  cookies.set(\"_medusa_cart_id\", cartId, {\n    maxAge: 60 * 60 * 24 * 7,\n    httpOnly: true,\n    sameSite: \"strict\",\n    secure: process.env.NODE_ENV === \"production\",\n  })\n}\n\nexport const removeCartId = async () => {\n  const cookies = await nextCookies()\n  cookies.set(\"_medusa_cart_id\", \"\", {\n    maxAge: -1,\n  })\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAAA;AACA;;;AAEO,MAAM,iBAAiB;IAG5B,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,0IAAW;QACjC,MAAM,QAAQ,QAAQ,GAAG,CAAC,gBAAgB;QAE1C,IAAI,CAAC,OAAO;YACV,OAAO,CAAC;QACV;QAEA,OAAO;YAAE,eAAe,CAAC,OAAO,EAAE,OAAO;QAAC;IAC5C,EAAE,OAAM;QACN,OAAO,CAAC;IACV;AACF;AAEO,MAAM,cAAc,OAAO;IAChC,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,0IAAW;QACjC,MAAM,UAAU,QAAQ,GAAG,CAAC,qBAAqB;QAEjD,IAAI,CAAC,SAAS;YACZ,OAAO;QACT;QAEA,OAAO,GAAG,IAAI,CAAC,EAAE,SAAS;IAC5B,EAAE,OAAO,OAAO;QACd,OAAO;IACT;AACF;AAEO,MAAM,kBAAkB,OAC7B;IAEA;;IAIA,MAAM,WAAW,MAAM,YAAY;IAEnC,IAAI,CAAC,UAAU;QACb,OAAO,CAAC;IACV;IAEA,OAAO;QAAE,MAAM;YAAC,GAAG,UAAU;SAAC;IAAC;AACjC;AAEO,MAAM,eAAe,OAAO;IACjC,MAAM,UAAU,MAAM,IAAA,0IAAW;IACjC,QAAQ,GAAG,CAAC,eAAe,OAAO;QAChC,QAAQ,KAAK,KAAK,KAAK;QACvB,UAAU;QACV,UAAU;QACV,QAAQ,oDAAyB;IACnC;AACF;AAEO,MAAM,kBAAkB;IAC7B,MAAM,UAAU,MAAM,IAAA,0IAAW;IACjC,QAAQ,GAAG,CAAC,eAAe,IAAI;QAC7B,QAAQ,CAAC;IACX;AACF;AAEO,MAAM,YAAY;IACvB,MAAM,UAAU,MAAM,IAAA,0IAAW;IACjC,OAAO,QAAQ,GAAG,CAAC,oBAAoB;AACzC;AAEO,MAAM,YAAY,OAAO;IAC9B,MAAM,UAAU,MAAM,IAAA,0IAAW;IACjC,QAAQ,GAAG,CAAC,mBAAmB,QAAQ;QACrC,QAAQ,KAAK,KAAK,KAAK;QACvB,UAAU;QACV,UAAU;QACV,QAAQ,oDAAyB;IACnC;AACF;AAEO,MAAM,eAAe;IAC1B,MAAM,UAAU,MAAM,IAAA,0IAAW;IACjC,QAAQ,GAAG,CAAC,mBAAmB,IAAI;QACjC,QAAQ,CAAC;IACX;AACF","debugId":null}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/lib/data/regions.ts"],"sourcesContent":["\"use server\"\n\nimport { sdk } from \"@lib/config\"\nimport medusaError from \"@lib/util/medusa-error\"\nimport { HttpTypes } from \"@medusajs/types\"\nimport { getCacheOptions } from \"./cookies\"\n\nexport const listRegions = async () => {\n  const next = {\n    ...(await getCacheOptions(\"regions\")),\n  }\n\n  return sdk.client\n    .fetch<{ regions: HttpTypes.StoreRegion[] }>(`/store/regions`, {\n      method: \"GET\",\n      next,\n      cache: \"force-cache\",\n    })\n    .then(({ regions }) => regions)\n    .catch(medusaError)\n}\n\nexport const retrieveRegion = async (id: string) => {\n  const next = {\n    ...(await getCacheOptions([\"regions\", id].join(\"-\"))),\n  }\n\n  return sdk.client\n    .fetch<{ region: HttpTypes.StoreRegion }>(`/store/regions/${id}`, {\n      method: \"GET\",\n      next,\n      cache: \"force-cache\",\n    })\n    .then(({ region }) => region)\n    .catch(medusaError)\n}\n\nconst regionMap = new Map<string, HttpTypes.StoreRegion>()\n\nexport const getRegion = async (countryCode: string) => {\n  try {\n    if (regionMap.has(countryCode)) {\n      return regionMap.get(countryCode)\n    }\n\n    const regions = await listRegions()\n\n    if (!regions) {\n      return null\n    }\n\n    regions.forEach((region) => {\n      region.countries?.forEach((c) => {\n        regionMap.set(c?.iso_2 ?? \"\", region)\n      })\n    })\n\n    const region = countryCode\n      ? regionMap.get(countryCode)\n      : regionMap.get(\"us\")\n\n    return region\n  } catch (e: any) {\n    return null\n  }\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAEA;;;;;;AAEO,MAAM,cAAc;IACzB,MAAM,OAAO;QACX,GAAI,MAAM,IAAA,gJAAe,EAAC,UAAU;IACtC;IAEA,OAAO,2HAAG,CAAC,MAAM,CACd,KAAK,CAAuC,CAAC,cAAc,CAAC,EAAE;QAC7D,QAAQ;QACR;QACA,OAAO;IACT,GACC,IAAI,CAAC,CAAC,EAAE,OAAO,EAAE,GAAK,SACtB,KAAK,CAAC,gJAAW;AACtB;AAEO,MAAM,iBAAiB,OAAO;IACnC,MAAM,OAAO;QACX,GAAI,MAAM,IAAA,gJAAe,EAAC;YAAC;YAAW;SAAG,CAAC,IAAI,CAAC,KAAK;IACtD;IAEA,OAAO,2HAAG,CAAC,MAAM,CACd,KAAK,CAAoC,CAAC,eAAe,EAAE,IAAI,EAAE;QAChE,QAAQ;QACR;QACA,OAAO;IACT,GACC,IAAI,CAAC,CAAC,EAAE,MAAM,EAAE,GAAK,QACrB,KAAK,CAAC,gJAAW;AACtB;AAEA,MAAM,YAAY,IAAI;AAEf,MAAM,YAAY,OAAO;IAC9B,IAAI;QACF,IAAI,UAAU,GAAG,CAAC,cAAc;YAC9B,OAAO,UAAU,GAAG,CAAC;QACvB;QAEA,MAAM,UAAU,MAAM;QAEtB,IAAI,CAAC,SAAS;YACZ,OAAO;QACT;QAEA,QAAQ,OAAO,CAAC,CAAC;YACf,OAAO,SAAS,EAAE,QAAQ,CAAC;gBACzB,UAAU,GAAG,CAAC,GAAG,SAAS,IAAI;YAChC;QACF;QAEA,MAAM,SAAS,cACX,UAAU,GAAG,CAAC,eACd,UAAU,GAAG,CAAC;QAElB,OAAO;IACT,EAAE,OAAO,GAAQ;QACf,OAAO;IACT;AACF;;;IA1Da;IAeA;IAiBA;;AAhCA,+OAAA;AAeA,+OAAA;AAiBA,+OAAA","debugId":null}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/lib/data/cart.ts"],"sourcesContent":["\"use server\"\n\nimport { sdk } from \"@lib/config\"\nimport medusaError from \"@lib/util/medusa-error\"\nimport { HttpTypes } from \"@medusajs/types\"\nimport { revalidateTag } from \"next/cache\"\nimport { redirect } from \"next/navigation\"\nimport {\n  getAuthHeaders,\n  getCacheOptions,\n  getCacheTag,\n  getCartId,\n  removeCartId,\n  setCartId,\n} from \"./cookies\"\nimport { getRegion } from \"./regions\"\n\n/**\n * Retrieves a cart by its ID. If no ID is provided, it will use the cart ID from the cookies.\n * @param cartId - optional - The ID of the cart to retrieve.\n * @returns The cart object if found, or null if not found.\n */\nexport async function retrieveCart(cartId?: string, fields?: string) {\n  const id = cartId || (await getCartId())\n  fields ??= \"*items, *region, *items.product, *items.variant, *items.thumbnail, *items.metadata, +items.total, *promotions, +shipping_methods.name\"\n\n  if (!id) {\n    return null\n  }\n\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n\n  const next = {\n    ...(await getCacheOptions(\"carts\")),\n  }\n\n  return await sdk.client\n    .fetch<HttpTypes.StoreCartResponse>(`/store/carts/${id}`, {\n      method: \"GET\",\n      query: {\n        fields\n      },\n      headers,\n      next,\n      cache: \"force-cache\",\n    })\n    .then(({ cart }: { cart: HttpTypes.StoreCart }) => cart)\n    .catch(() => null)\n}\n\nexport async function getOrSetCart(countryCode: string) {\n  const region = await getRegion(countryCode)\n\n  if (!region) {\n    throw new Error(`Region not found for country code: ${countryCode}`)\n  }\n\n  let cart = await retrieveCart(undefined, 'id,region_id')\n\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n\n  if (!cart) {\n    const cartResp = await sdk.store.cart.create(\n      { region_id: region.id },\n      {},\n      headers\n    )\n    cart = cartResp.cart\n\n    await setCartId(cart.id)\n\n    const cartCacheTag = await getCacheTag(\"carts\")\n    revalidateTag(cartCacheTag)\n  }\n\n  if (cart && cart?.region_id !== region.id) {\n    await sdk.store.cart.update(cart.id, { region_id: region.id }, {}, headers)\n    const cartCacheTag = await getCacheTag(\"carts\")\n    revalidateTag(cartCacheTag)\n  }\n\n  return cart\n}\n\nexport async function updateCart(data: HttpTypes.StoreUpdateCart) {\n  const cartId = await getCartId()\n\n  if (!cartId) {\n    throw new Error(\"No existing cart found, please create one before updating\")\n  }\n\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n\n  return sdk.store.cart\n    .update(cartId, data, {}, headers)\n    .then(async ({ cart }: { cart: HttpTypes.StoreCart }) => {\n      const cartCacheTag = await getCacheTag(\"carts\")\n      revalidateTag(cartCacheTag)\n\n      const fulfillmentCacheTag = await getCacheTag(\"fulfillment\")\n      revalidateTag(fulfillmentCacheTag)\n\n      return cart\n    })\n    .catch(medusaError)\n}\n\nexport async function addToCart({\n  variantId,\n  quantity,\n  countryCode,\n}: {\n  variantId: string\n  quantity: number\n  countryCode: string\n}) {\n  if (!variantId) {\n    throw new Error(\"Missing variant ID when adding to cart\")\n  }\n\n  const cart = await getOrSetCart(countryCode)\n\n  if (!cart) {\n    throw new Error(\"Error retrieving or creating cart\")\n  }\n\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n\n  await sdk.store.cart\n    .createLineItem(\n      cart.id,\n      {\n        variant_id: variantId,\n        quantity,\n      },\n      {},\n      headers\n    )\n    .then(async () => {\n      const cartCacheTag = await getCacheTag(\"carts\")\n      revalidateTag(cartCacheTag)\n\n      const fulfillmentCacheTag = await getCacheTag(\"fulfillment\")\n      revalidateTag(fulfillmentCacheTag)\n    })\n    .catch(medusaError)\n}\n\nexport async function updateLineItem({\n  lineId,\n  quantity,\n}: {\n  lineId: string\n  quantity: number\n}) {\n  if (!lineId) {\n    throw new Error(\"Missing lineItem ID when updating line item\")\n  }\n\n  const cartId = await getCartId()\n\n  if (!cartId) {\n    throw new Error(\"Missing cart ID when updating line item\")\n  }\n\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n\n  await sdk.store.cart\n    .updateLineItem(cartId, lineId, { quantity }, {}, headers)\n    .then(async () => {\n      const cartCacheTag = await getCacheTag(\"carts\")\n      revalidateTag(cartCacheTag)\n\n      const fulfillmentCacheTag = await getCacheTag(\"fulfillment\")\n      revalidateTag(fulfillmentCacheTag)\n    })\n    .catch(medusaError)\n}\n\nexport async function deleteLineItem(lineId: string) {\n  if (!lineId) {\n    throw new Error(\"Missing lineItem ID when deleting line item\")\n  }\n\n  const cartId = await getCartId()\n\n  if (!cartId) {\n    throw new Error(\"Missing cart ID when deleting line item\")\n  }\n\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n\n  await sdk.store.cart\n    .deleteLineItem(cartId, lineId, headers)\n    .then(async () => {\n      const cartCacheTag = await getCacheTag(\"carts\")\n      revalidateTag(cartCacheTag)\n\n      const fulfillmentCacheTag = await getCacheTag(\"fulfillment\")\n      revalidateTag(fulfillmentCacheTag)\n    })\n    .catch(medusaError)\n}\n\nexport async function setShippingMethod({\n  cartId,\n  shippingMethodId,\n}: {\n  cartId: string\n  shippingMethodId: string\n}) {\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n\n  return sdk.store.cart\n    .addShippingMethod(cartId, { option_id: shippingMethodId }, {}, headers)\n    .then(async () => {\n      const cartCacheTag = await getCacheTag(\"carts\")\n      revalidateTag(cartCacheTag)\n    })\n    .catch(medusaError)\n}\n\nexport async function initiatePaymentSession(\n  cart: HttpTypes.StoreCart,\n  data: HttpTypes.StoreInitializePaymentSession\n) {\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n\n  return sdk.store.payment\n    .initiatePaymentSession(cart, data, {}, headers)\n    .then(async (resp) => {\n      const cartCacheTag = await getCacheTag(\"carts\")\n      revalidateTag(cartCacheTag)\n      return resp\n    })\n    .catch(medusaError)\n}\n\nexport async function applyPromotions(codes: string[]) {\n  const cartId = await getCartId()\n\n  if (!cartId) {\n    throw new Error(\"No existing cart found\")\n  }\n\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n\n  return sdk.store.cart\n    .update(cartId, { promo_codes: codes }, {}, headers)\n    .then(async () => {\n      const cartCacheTag = await getCacheTag(\"carts\")\n      revalidateTag(cartCacheTag)\n\n      const fulfillmentCacheTag = await getCacheTag(\"fulfillment\")\n      revalidateTag(fulfillmentCacheTag)\n    })\n    .catch(medusaError)\n}\n\nexport async function applyGiftCard(code: string) {\n  //   const cartId = getCartId()\n  //   if (!cartId) return \"No cartId cookie found\"\n  //   try {\n  //     await updateCart(cartId, { gift_cards: [{ code }] }).then(() => {\n  //       revalidateTag(\"cart\")\n  //     })\n  //   } catch (error: any) {\n  //     throw error\n  //   }\n}\n\nexport async function removeDiscount(code: string) {\n  // const cartId = getCartId()\n  // if (!cartId) return \"No cartId cookie found\"\n  // try {\n  //   await deleteDiscount(cartId, code)\n  //   revalidateTag(\"cart\")\n  // } catch (error: any) {\n  //   throw error\n  // }\n}\n\nexport async function removeGiftCard(\n  codeToRemove: string,\n  giftCards: any[]\n  // giftCards: GiftCard[]\n) {\n  //   const cartId = getCartId()\n  //   if (!cartId) return \"No cartId cookie found\"\n  //   try {\n  //     await updateCart(cartId, {\n  //       gift_cards: [...giftCards]\n  //         .filter((gc) => gc.code !== codeToRemove)\n  //         .map((gc) => ({ code: gc.code })),\n  //     }).then(() => {\n  //       revalidateTag(\"cart\")\n  //     })\n  //   } catch (error: any) {\n  //     throw error\n  //   }\n}\n\nexport async function submitPromotionForm(\n  currentState: unknown,\n  formData: FormData\n) {\n  const code = formData.get(\"code\") as string\n  try {\n    await applyPromotions([code])\n  } catch (e: any) {\n    return e.message\n  }\n}\n\n// TODO: Pass a POJO instead of a form entity here\nexport async function setAddresses(currentState: unknown, formData: FormData) {\n  try {\n    if (!formData) {\n      throw new Error(\"No form data found when setting addresses\")\n    }\n    const cartId = getCartId()\n    if (!cartId) {\n      throw new Error(\"No existing cart found when setting addresses\")\n    }\n\n    const data = {\n      shipping_address: {\n        first_name: formData.get(\"shipping_address.first_name\"),\n        last_name: formData.get(\"shipping_address.last_name\"),\n        address_1: formData.get(\"shipping_address.address_1\"),\n        address_2: \"\",\n        company: formData.get(\"shipping_address.company\"),\n        postal_code: formData.get(\"shipping_address.postal_code\"),\n        city: formData.get(\"shipping_address.city\"),\n        country_code: formData.get(\"shipping_address.country_code\"),\n        province: formData.get(\"shipping_address.province\"),\n        phone: formData.get(\"shipping_address.phone\"),\n      },\n      email: formData.get(\"email\"),\n    } as any\n\n    const sameAsBilling = formData.get(\"same_as_billing\")\n    if (sameAsBilling === \"on\") data.billing_address = data.shipping_address\n\n    if (sameAsBilling !== \"on\")\n      data.billing_address = {\n        first_name: formData.get(\"billing_address.first_name\"),\n        last_name: formData.get(\"billing_address.last_name\"),\n        address_1: formData.get(\"billing_address.address_1\"),\n        address_2: \"\",\n        company: formData.get(\"billing_address.company\"),\n        postal_code: formData.get(\"billing_address.postal_code\"),\n        city: formData.get(\"billing_address.city\"),\n        country_code: formData.get(\"billing_address.country_code\"),\n        province: formData.get(\"billing_address.province\"),\n        phone: formData.get(\"billing_address.phone\"),\n      }\n    await updateCart(data)\n  } catch (e: any) {\n    return e.message\n  }\n\n  redirect(\n    `/${formData.get(\"shipping_address.country_code\")}/checkout?step=delivery`\n  )\n}\n\n/**\n * Places an order for a cart. If no cart ID is provided, it will use the cart ID from the cookies.\n * @param cartId - optional - The ID of the cart to place an order for.\n * @returns The cart object if the order was successful, or null if not.\n */\nexport async function placeOrder(cartId?: string) {\n  const id = cartId || (await getCartId())\n\n  if (!id) {\n    throw new Error(\"No existing cart found when placing an order\")\n  }\n\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n\n  const cartRes = await sdk.store.cart\n    .complete(id, {}, headers)\n    .then(async (cartRes) => {\n      const cartCacheTag = await getCacheTag(\"carts\")\n      revalidateTag(cartCacheTag)\n      return cartRes\n    })\n    .catch(medusaError)\n\n  if (cartRes?.type === \"order\") {\n    const countryCode =\n      cartRes.order.shipping_address?.country_code?.toLowerCase()\n\n    const orderCacheTag = await getCacheTag(\"orders\")\n    revalidateTag(orderCacheTag)\n\n    removeCartId()\n    redirect(`/${countryCode}/order/${cartRes?.order.id}/confirmed`)\n  }\n\n  return cartRes.cart\n}\n\n/**\n * Updates the countrycode param and revalidates the regions cache\n * @param regionId\n * @param countryCode\n */\nexport async function updateRegion(countryCode: string, currentPath: string) {\n  const cartId = await getCartId()\n  const region = await getRegion(countryCode)\n\n  if (!region) {\n    throw new Error(`Region not found for country code: ${countryCode}`)\n  }\n\n  if (cartId) {\n    await updateCart({ region_id: region.id })\n    const cartCacheTag = await getCacheTag(\"carts\")\n    revalidateTag(cartCacheTag)\n  }\n\n  const regionCacheTag = await getCacheTag(\"regions\")\n  revalidateTag(regionCacheTag)\n\n  const productsCacheTag = await getCacheTag(\"products\")\n  revalidateTag(productsCacheTag)\n\n  redirect(`/${countryCode}${currentPath}`)\n}\n\nexport async function listCartOptions() {\n  const cartId = await getCartId()\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n  const next = {\n    ...(await getCacheOptions(\"shippingOptions\")),\n  }\n\n  return await sdk.client.fetch<{\n    shipping_options: HttpTypes.StoreCartShippingOption[]\n  }>(\"/store/shipping-options\", {\n    query: { cart_id: cartId },\n    next,\n    headers,\n    cache: \"force-cache\",\n  })\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 628, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/lib/data/customer.ts"],"sourcesContent":["\"use server\"\n\nimport { sdk } from \"@lib/config\"\nimport medusaError from \"@lib/util/medusa-error\"\nimport { HttpTypes } from \"@medusajs/types\"\nimport { revalidateTag } from \"next/cache\"\nimport { redirect } from \"next/navigation\"\nimport {\n  getAuthHeaders,\n  getCacheOptions,\n  getCacheTag,\n  getCartId,\n  removeAuthToken,\n  removeCartId,\n  setAuthToken,\n} from \"./cookies\"\n\nexport const retrieveCustomer =\n  async (): Promise<HttpTypes.StoreCustomer | null> => {\n    const authHeaders = await getAuthHeaders()\n\n    if (!authHeaders) return null\n\n    const headers = {\n      ...authHeaders,\n    }\n\n    const next = {\n      ...(await getCacheOptions(\"customers\")),\n    }\n\n    return await sdk.client\n      .fetch<{ customer: HttpTypes.StoreCustomer }>(`/store/customers/me`, {\n        method: \"GET\",\n        query: {\n          fields: \"*orders\",\n        },\n        headers,\n        next,\n        cache: \"force-cache\",\n      })\n      .then(({ customer }) => customer)\n      .catch(() => null)\n  }\n\nexport const updateCustomer = async (body: HttpTypes.StoreUpdateCustomer) => {\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n\n  const updateRes = await sdk.store.customer\n    .update(body, {}, headers)\n    .then(({ customer }) => customer)\n    .catch(medusaError)\n\n  const cacheTag = await getCacheTag(\"customers\")\n  revalidateTag(cacheTag)\n\n  return updateRes\n}\n\nexport async function signup(_currentState: unknown, formData: FormData) {\n  const password = formData.get(\"password\") as string\n  const customerForm = {\n    email: formData.get(\"email\") as string,\n    first_name: formData.get(\"first_name\") as string,\n    last_name: formData.get(\"last_name\") as string,\n    phone: formData.get(\"phone\") as string,\n  }\n\n  try {\n    const token = await sdk.auth.register(\"customer\", \"emailpass\", {\n      email: customerForm.email,\n      password: password,\n    })\n\n    await setAuthToken(token as string)\n\n    const headers = {\n      ...(await getAuthHeaders()),\n    }\n\n    const { customer: createdCustomer } = await sdk.store.customer.create(\n      customerForm,\n      {},\n      headers\n    )\n\n    const loginToken = await sdk.auth.login(\"customer\", \"emailpass\", {\n      email: customerForm.email,\n      password,\n    })\n\n    await setAuthToken(loginToken as string)\n\n    const customerCacheTag = await getCacheTag(\"customers\")\n    revalidateTag(customerCacheTag)\n\n    await transferCart()\n\n    return createdCustomer\n  } catch (error: any) {\n    return error.toString()\n  }\n}\n\nexport async function login(_currentState: unknown, formData: FormData) {\n  const email = formData.get(\"email\") as string\n  const password = formData.get(\"password\") as string\n\n  try {\n    await sdk.auth\n      .login(\"customer\", \"emailpass\", { email, password })\n      .then(async (token) => {\n        await setAuthToken(token as string)\n        const customerCacheTag = await getCacheTag(\"customers\")\n        revalidateTag(customerCacheTag)\n      })\n  } catch (error: any) {\n    return error.toString()\n  }\n\n  try {\n    await transferCart()\n  } catch (error: any) {\n    return error.toString()\n  }\n}\n\nexport async function signout(countryCode: string) {\n  await sdk.auth.logout()\n\n  await removeAuthToken()\n\n  const customerCacheTag = await getCacheTag(\"customers\")\n  revalidateTag(customerCacheTag)\n\n  await removeCartId()\n\n  const cartCacheTag = await getCacheTag(\"carts\")\n  revalidateTag(cartCacheTag)\n\n  redirect(`/${countryCode}/account`)\n}\n\nexport async function transferCart() {\n  const cartId = await getCartId()\n\n  if (!cartId) {\n    return\n  }\n\n  const headers = await getAuthHeaders()\n\n  await sdk.store.cart.transferCart(cartId, {}, headers)\n\n  const cartCacheTag = await getCacheTag(\"carts\")\n  revalidateTag(cartCacheTag)\n}\n\nexport const addCustomerAddress = async (\n  currentState: Record<string, unknown>,\n  formData: FormData\n): Promise<any> => {\n  const isDefaultBilling = (currentState.isDefaultBilling as boolean) || false\n  const isDefaultShipping = (currentState.isDefaultShipping as boolean) || false\n\n  const address = {\n    first_name: formData.get(\"first_name\") as string,\n    last_name: formData.get(\"last_name\") as string,\n    company: formData.get(\"company\") as string,\n    address_1: formData.get(\"address_1\") as string,\n    address_2: formData.get(\"address_2\") as string,\n    city: formData.get(\"city\") as string,\n    postal_code: formData.get(\"postal_code\") as string,\n    province: formData.get(\"province\") as string,\n    country_code: formData.get(\"country_code\") as string,\n    phone: formData.get(\"phone\") as string,\n    is_default_billing: isDefaultBilling,\n    is_default_shipping: isDefaultShipping,\n  }\n\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n\n  return sdk.store.customer\n    .createAddress(address, {}, headers)\n    .then(async ({ customer }) => {\n      const customerCacheTag = await getCacheTag(\"customers\")\n      revalidateTag(customerCacheTag)\n      return { success: true, error: null }\n    })\n    .catch((err) => {\n      return { success: false, error: err.toString() }\n    })\n}\n\nexport const deleteCustomerAddress = async (\n  addressId: string\n): Promise<void> => {\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n\n  await sdk.store.customer\n    .deleteAddress(addressId, headers)\n    .then(async () => {\n      const customerCacheTag = await getCacheTag(\"customers\")\n      revalidateTag(customerCacheTag)\n      return { success: true, error: null }\n    })\n    .catch((err) => {\n      return { success: false, error: err.toString() }\n    })\n}\n\nexport const updateCustomerAddress = async (\n  currentState: Record<string, unknown>,\n  formData: FormData\n): Promise<any> => {\n  const addressId =\n    (currentState.addressId as string) || (formData.get(\"addressId\") as string)\n\n  if (!addressId) {\n    return { success: false, error: \"Address ID is required\" }\n  }\n\n  const address = {\n    first_name: formData.get(\"first_name\") as string,\n    last_name: formData.get(\"last_name\") as string,\n    company: formData.get(\"company\") as string,\n    address_1: formData.get(\"address_1\") as string,\n    address_2: formData.get(\"address_2\") as string,\n    city: formData.get(\"city\") as string,\n    postal_code: formData.get(\"postal_code\") as string,\n    province: formData.get(\"province\") as string,\n    country_code: formData.get(\"country_code\") as string,\n  } as HttpTypes.StoreUpdateCustomerAddress\n\n  const phone = formData.get(\"phone\") as string\n\n  if (phone) {\n    address.phone = phone\n  }\n\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n\n  return sdk.store.customer\n    .updateAddress(addressId, address, {}, headers)\n    .then(async () => {\n      const customerCacheTag = await getCacheTag(\"customers\")\n      revalidateTag(customerCacheTag)\n      return { success: true, error: null }\n    })\n    .catch((err) => {\n      return { success: false, error: err.toString() }\n    })\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 879, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/layout/components/cart-mismatch-banner/index.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/modules/layout/components/cart-mismatch-banner/index.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/modules/layout/components/cart-mismatch-banner/index.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAgU,GAC7V,8FACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 893, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/layout/components/cart-mismatch-banner/index.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/modules/layout/components/cart-mismatch-banner/index.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/modules/layout/components/cart-mismatch-banner/index.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA4S,GACzU,0EACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 907, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 915, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/lib/data/categories.ts"],"sourcesContent":["import { sdk } from \"@lib/config\"\nimport { HttpTypes } from \"@medusajs/types\"\nimport { getCacheOptions } from \"./cookies\"\n\nexport const listCategories = async (query?: Record<string, any>) => {\n  const next = {\n    ...(await getCacheOptions(\"categories\")),\n  }\n\n  const limit = query?.limit || 100\n\n  return sdk.client\n    .fetch<{ product_categories: HttpTypes.StoreProductCategory[] }>(\n      \"/store/product-categories\",\n      {\n        query: {\n          fields:\n            \"*category_children, *products, *parent_category, *parent_category.parent_category\",\n          limit,\n          ...query,\n        },\n        next,\n        cache: \"force-cache\",\n      }\n    )\n    .then(({ product_categories }) => product_categories)\n}\n\nexport const getCategoryByHandle = async (categoryHandle: string[]) => {\n  const handle = `${categoryHandle.join(\"/\")}`\n\n  const next = {\n    ...(await getCacheOptions(\"categories\")),\n  }\n\n  return sdk.client\n    .fetch<HttpTypes.StoreProductCategoryListResponse>(\n      `/store/product-categories`,\n      {\n        query: {\n          fields: \"*category_children, *products\",\n          handle,\n        },\n        next,\n        cache: \"force-cache\",\n      }\n    )\n    .then(({ product_categories }) => product_categories[0])\n}\n"],"names":[],"mappings":";;;;;;AAAA;AAEA;;;AAEO,MAAM,iBAAiB,OAAO;IACnC,MAAM,OAAO;QACX,GAAI,MAAM,IAAA,gJAAe,EAAC,aAAa;IACzC;IAEA,MAAM,QAAQ,OAAO,SAAS;IAE9B,OAAO,2HAAG,CAAC,MAAM,CACd,KAAK,CACJ,6BACA;QACE,OAAO;YACL,QACE;YACF;YACA,GAAG,KAAK;QACV;QACA;QACA,OAAO;IACT,GAED,IAAI,CAAC,CAAC,EAAE,kBAAkB,EAAE,GAAK;AACtC;AAEO,MAAM,sBAAsB,OAAO;IACxC,MAAM,SAAS,GAAG,eAAe,IAAI,CAAC,MAAM;IAE5C,MAAM,OAAO;QACX,GAAI,MAAM,IAAA,gJAAe,EAAC,aAAa;IACzC;IAEA,OAAO,2HAAG,CAAC,MAAM,CACd,KAAK,CACJ,CAAC,yBAAyB,CAAC,EAC3B;QACE,OAAO;YACL,QAAQ;YACR;QACF;QACA;QACA,OAAO;IACT,GAED,IAAI,CAAC,CAAC,EAAE,kBAAkB,EAAE,GAAK,kBAAkB,CAAC,EAAE;AAC3D","debugId":null}},
    {"offset": {"line": 958, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/lib/data/collections.ts"],"sourcesContent":["\"use server\"\n\nimport { sdk } from \"@lib/config\"\nimport { HttpTypes } from \"@medusajs/types\"\nimport { getCacheOptions } from \"./cookies\"\n\nexport const retrieveCollection = async (id: string) => {\n  const next = {\n    ...(await getCacheOptions(\"collections\")),\n  }\n\n  return sdk.client\n    .fetch<{ collection: HttpTypes.StoreCollection }>(\n      `/store/collections/${id}`,\n      {\n        next,\n        cache: \"force-cache\",\n      }\n    )\n    .then(({ collection }) => collection)\n}\n\nexport const listCollections = async (\n  queryParams: Record<string, string> = {}\n): Promise<{ collections: HttpTypes.StoreCollection[]; count: number }> => {\n  const next = {\n    ...(await getCacheOptions(\"collections\")),\n  }\n\n  queryParams.limit = queryParams.limit || \"100\"\n  queryParams.offset = queryParams.offset || \"0\"\n\n  return sdk.client\n    .fetch<{ collections: HttpTypes.StoreCollection[]; count: number }>(\n      \"/store/collections\",\n      {\n        query: queryParams,\n        next,\n        cache: \"force-cache\",\n      }\n    )\n    .then(({ collections }) => ({ collections, count: collections.length }))\n}\n\nexport const getCollectionByHandle = async (\n  handle: string\n): Promise<HttpTypes.StoreCollection> => {\n  const next = {\n    ...(await getCacheOptions(\"collections\")),\n  }\n\n  return sdk.client\n    .fetch<HttpTypes.StoreCollectionListResponse>(`/store/collections`, {\n      query: { handle, fields: \"*products\" },\n      next,\n      cache: \"force-cache\",\n    })\n    .then(({ collections }) => collections[0])\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;AAEA;;;;;AAEO,MAAM,qBAAqB,OAAO;IACvC,MAAM,OAAO;QACX,GAAI,MAAM,IAAA,gJAAe,EAAC,cAAc;IAC1C;IAEA,OAAO,2HAAG,CAAC,MAAM,CACd,KAAK,CACJ,CAAC,mBAAmB,EAAE,IAAI,EAC1B;QACE;QACA,OAAO;IACT,GAED,IAAI,CAAC,CAAC,EAAE,UAAU,EAAE,GAAK;AAC9B;AAEO,MAAM,kBAAkB,OAC7B,cAAsC,CAAC,CAAC;IAExC,MAAM,OAAO;QACX,GAAI,MAAM,IAAA,gJAAe,EAAC,cAAc;IAC1C;IAEA,YAAY,KAAK,GAAG,YAAY,KAAK,IAAI;IACzC,YAAY,MAAM,GAAG,YAAY,MAAM,IAAI;IAE3C,OAAO,2HAAG,CAAC,MAAM,CACd,KAAK,CACJ,sBACA;QACE,OAAO;QACP;QACA,OAAO;IACT,GAED,IAAI,CAAC,CAAC,EAAE,WAAW,EAAE,GAAK,CAAC;YAAE;YAAa,OAAO,YAAY,MAAM;QAAC,CAAC;AAC1E;AAEO,MAAM,wBAAwB,OACnC;IAEA,MAAM,OAAO;QACX,GAAI,MAAM,IAAA,gJAAe,EAAC,cAAc;IAC1C;IAEA,OAAO,2HAAG,CAAC,MAAM,CACd,KAAK,CAAwC,CAAC,kBAAkB,CAAC,EAAE;QAClE,OAAO;YAAE;YAAQ,QAAQ;QAAY;QACrC;QACA,OAAO;IACT,GACC,IAAI,CAAC,CAAC,EAAE,WAAW,EAAE,GAAK,WAAW,CAAC,EAAE;AAC7C;;;IApDa;IAgBA;IAsBA;;AAtCA,+OAAA;AAgBA,+OAAA;AAsBA,+OAAA","debugId":null}},
    {"offset": {"line": 1023, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/common/components/localized-client-link/index.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/modules/common/components/localized-client-link/index.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/modules/common/components/localized-client-link/index.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiU,GAC9V,+FACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1037, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/common/components/localized-client-link/index.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/modules/common/components/localized-client-link/index.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/modules/common/components/localized-client-link/index.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA6S,GAC1U,2EACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1051, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 1059, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/common/icons/medusa.tsx"],"sourcesContent":["import React from \"react\"\n\nimport { IconProps } from \"types/icon\"\n\nconst Medusa: React.FC<IconProps> = ({\n  size = \"20\",\n  color = \"#9CA3AF\",\n  ...attributes\n}) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 18 18\"\n      fill=\"none\"\n      {...attributes}\n    >\n      <path\n        d=\"M15.2447 2.92183L11.1688 0.576863C9.83524 -0.192288 8.20112 -0.192288 6.86753 0.576863L2.77285 2.92183C1.45804 3.69098 0.631592 5.11673 0.631592 6.63627V11.345C0.631592 12.8833 1.45804 14.2903 2.77285 15.0594L6.84875 17.4231C8.18234 18.1923 9.81646 18.1923 11.15 17.4231L15.2259 15.0594C16.5595 14.2903 17.3672 12.8833 17.3672 11.345V6.63627C17.4048 5.11673 16.5783 3.69098 15.2447 2.92183ZM9.00879 13.1834C6.69849 13.1834 4.82019 11.3075 4.82019 9C4.82019 6.69255 6.69849 4.81657 9.00879 4.81657C11.3191 4.81657 13.2162 6.69255 13.2162 9C13.2162 11.3075 11.3379 13.1834 9.00879 13.1834Z\"\n        fill={color}\n      />\n    </svg>\n  )\n}\n\nexport default Medusa\n"],"names":[],"mappings":";;;;;;AAIA,MAAM,SAA8B,CAAC,EACnC,OAAO,IAAI,EACX,QAAQ,SAAS,EACjB,GAAG,YACJ;IACC,qBACE,8OAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACJ,GAAG,UAAU;kBAEd,cAAA,8OAAC;YACC,GAAE;YACF,MAAM;;;;;;;;;;;AAId;uCAEe","debugId":null}},
    {"offset": {"line": 1092, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/common/icons/nextjs.tsx"],"sourcesContent":["import React from \"react\"\n\nimport { IconProps } from \"types/icon\"\n\nconst NextJs: React.FC<IconProps> = ({\n  size = \"20\",\n  color = \"#9CA3AF\",\n  ...attributes\n}) => {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width=\"18\"\n      height=\"18\"\n      viewBox=\"0 0 18 18\"\n      fill=\"none\"\n      {...attributes}\n    >\n      <path\n        d=\"M8.41117 0.0131402C8.3725 0.0166554 8.24946 0.0289589 8.13873 0.0377471C5.58488 0.267998 3.19273 1.64599 1.67764 3.76395C0.833977 4.94157 0.294381 6.27737 0.090495 7.69227C0.0184318 8.18617 0.00964355 8.33206 0.00964355 9.00172C0.00964355 9.67138 0.0184318 9.81726 0.090495 10.3112C0.579119 13.6876 2.98181 16.5244 6.24048 17.5755C6.82402 17.7636 7.43919 17.8919 8.13873 17.9692C8.41117 17.9991 9.58879 17.9991 9.86122 17.9692C11.0687 17.8356 12.0917 17.5368 13.1006 17.0218C13.2552 16.9427 13.2851 16.9216 13.264 16.9041C13.25 16.8935 12.5908 16.0094 11.7999 14.9408L10.3621 12.9986L8.56057 10.3323C7.56926 8.86638 6.75371 7.66767 6.74668 7.66767C6.73965 7.66591 6.73262 8.85056 6.7291 10.2971C6.72383 12.8299 6.72207 12.9318 6.69044 12.9916C6.64474 13.0777 6.60958 13.1128 6.53576 13.1515C6.47952 13.1796 6.43031 13.1849 6.1649 13.1849H5.86083L5.77998 13.1339C5.72725 13.1005 5.68858 13.0566 5.66222 13.0056L5.62531 12.9265L5.62882 9.40246L5.63409 5.87663L5.68858 5.80808C5.7167 5.77117 5.77646 5.72372 5.81865 5.70087C5.89071 5.66571 5.91883 5.6622 6.2229 5.6622C6.58146 5.6622 6.64122 5.67626 6.73438 5.7782C6.76074 5.80632 7.73623 7.27571 8.90331 9.04566C10.0704 10.8156 11.6663 13.2324 12.4502 14.4188L13.8739 16.5754L13.946 16.5279C14.584 16.1131 15.2589 15.5226 15.7933 14.9074C16.9305 13.6015 17.6634 12.009 17.9095 10.3112C17.9815 9.81726 17.9903 9.67138 17.9903 9.00172C17.9903 8.33206 17.9815 8.18617 17.9095 7.69227C17.4208 4.31585 15.0181 1.47901 11.7595 0.427943C11.1847 0.241633 10.5731 0.113326 9.88758 0.0359895C9.71885 0.0184131 8.55705 -0.000920974 8.41117 0.0131402ZM12.0917 5.45128C12.176 5.49346 12.2446 5.57432 12.2692 5.65868C12.2832 5.70438 12.2868 6.68163 12.2832 8.88395L12.278 12.0442L11.7208 11.19L11.1619 10.3358V8.03853C11.1619 6.55332 11.1689 5.71844 11.1795 5.67802C11.2076 5.57959 11.2691 5.50225 11.3535 5.45655C11.4255 5.41964 11.4519 5.41613 11.7278 5.41613C11.988 5.41613 12.0337 5.41964 12.0917 5.45128Z\"\n        fill={color}\n      />\n    </svg>\n  )\n}\n\nexport default NextJs\n"],"names":[],"mappings":";;;;;;AAIA,MAAM,SAA8B,CAAC,EACnC,OAAO,IAAI,EACX,QAAQ,SAAS,EACjB,GAAG,YACJ;IACC,qBACE,8OAAC;QACC,OAAM;QACN,OAAM;QACN,QAAO;QACP,SAAQ;QACR,MAAK;QACJ,GAAG,UAAU;kBAEd,cAAA,8OAAC;YACC,GAAE;YACF,MAAM;;;;;;;;;;;AAId;uCAEe","debugId":null}},
    {"offset": {"line": 1125, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/layout/components/medusa-cta/index.tsx"],"sourcesContent":["import { Text } from \"@medusajs/ui\"\n\nimport Medusa from \"../../../common/icons/medusa\"\nimport NextJs from \"../../../common/icons/nextjs\"\n\nconst MedusaCTA = () => {\n  return (\n    <Text className=\"flex gap-x-2 txt-compact-small-plus items-center\">\n      Powered by\n      <a href=\"https://www.medusajs.com\" target=\"_blank\" rel=\"noreferrer\">\n        <Medusa fill=\"#9ca3af\" className=\"fill-[#9ca3af]\" />\n      </a>\n      &\n      <a href=\"https://nextjs.org\" target=\"_blank\" rel=\"noreferrer\">\n        <NextJs fill=\"#9ca3af\" />\n      </a>\n    </Text>\n  )\n}\n\nexport default MedusaCTA\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;;;;;AAEA,MAAM,YAAY;IAChB,qBACE,8OAAC,qLAAI;QAAC,WAAU;;YAAmD;0BAEjE,8OAAC;gBAAE,MAAK;gBAA2B,QAAO;gBAAS,KAAI;0BACrD,cAAA,8OAAC,uJAAM;oBAAC,MAAK;oBAAU,WAAU;;;;;;;;;;;YAC/B;0BAEJ,8OAAC;gBAAE,MAAK;gBAAqB,QAAO;gBAAS,KAAI;0BAC/C,cAAA,8OAAC,uJAAM;oBAAC,MAAK;;;;;;;;;;;;;;;;;AAIrB;uCAEe","debugId":null}},
    {"offset": {"line": 1188, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/layout/templates/footer/index.tsx"],"sourcesContent":["import { listCategories } from \"@lib/data/categories\"\nimport { listCollections } from \"@lib/data/collections\"\nimport { Text, clx } from \"@medusajs/ui\"\n\nimport LocalizedClientLink from \"@modules/common/components/localized-client-link\"\nimport MedusaCTA from \"@modules/layout/components/medusa-cta\"\n\nexport default async function Footer() {\n  const { collections } = await listCollections({\n    fields: \"*products\",\n  })\n  const productCategories = await listCategories()\n\n  return (\n    <footer className=\"border-t border-ui-border-base w-full\">\n      <div className=\"content-container flex flex-col w-full\">\n        <div className=\"flex flex-col gap-y-6 xsmall:flex-row items-start justify-between py-40\">\n          <div>\n            <LocalizedClientLink\n              href=\"/\"\n              className=\"txt-compact-xlarge-plus text-ui-fg-subtle hover:text-ui-fg-base uppercase\"\n            >\n              Medusa Store\n            </LocalizedClientLink>\n          </div>\n          <div className=\"text-small-regular gap-10 md:gap-x-16 grid grid-cols-2 sm:grid-cols-3\">\n            {productCategories && productCategories?.length > 0 && (\n              <div className=\"flex flex-col gap-y-2\">\n                <span className=\"txt-small-plus txt-ui-fg-base\">\n                  Categories\n                </span>\n                <ul\n                  className=\"grid grid-cols-1 gap-2\"\n                  data-testid=\"footer-categories\"\n                >\n                  {productCategories?.slice(0, 6).map((c) => {\n                    if (c.parent_category) {\n                      return\n                    }\n\n                    const children =\n                      c.category_children?.map((child) => ({\n                        name: child.name,\n                        handle: child.handle,\n                        id: child.id,\n                      })) || null\n\n                    return (\n                      <li\n                        className=\"flex flex-col gap-2 text-ui-fg-subtle txt-small\"\n                        key={c.id}\n                      >\n                        <LocalizedClientLink\n                          className={clx(\n                            \"hover:text-ui-fg-base\",\n                            children && \"txt-small-plus\"\n                          )}\n                          href={`/categories/${c.handle}`}\n                          data-testid=\"category-link\"\n                        >\n                          {c.name}\n                        </LocalizedClientLink>\n                        {children && (\n                          <ul className=\"grid grid-cols-1 ml-3 gap-2\">\n                            {children &&\n                              children.map((child) => (\n                                <li key={child.id}>\n                                  <LocalizedClientLink\n                                    className=\"hover:text-ui-fg-base\"\n                                    href={`/categories/${child.handle}`}\n                                    data-testid=\"category-link\"\n                                  >\n                                    {child.name}\n                                  </LocalizedClientLink>\n                                </li>\n                              ))}\n                          </ul>\n                        )}\n                      </li>\n                    )\n                  })}\n                </ul>\n              </div>\n            )}\n            {collections && collections.length > 0 && (\n              <div className=\"flex flex-col gap-y-2\">\n                <span className=\"txt-small-plus txt-ui-fg-base\">\n                  Collections\n                </span>\n                <ul\n                  className={clx(\n                    \"grid grid-cols-1 gap-2 text-ui-fg-subtle txt-small\",\n                    {\n                      \"grid-cols-2\": (collections?.length || 0) > 3,\n                    }\n                  )}\n                >\n                  {collections?.slice(0, 6).map((c) => (\n                    <li key={c.id}>\n                      <LocalizedClientLink\n                        className=\"hover:text-ui-fg-base\"\n                        href={`/collections/${c.handle}`}\n                      >\n                        {c.title}\n                      </LocalizedClientLink>\n                    </li>\n                  ))}\n                </ul>\n              </div>\n            )}\n            <div className=\"flex flex-col gap-y-2\">\n              <span className=\"txt-small-plus txt-ui-fg-base\">Medusa</span>\n              <ul className=\"grid grid-cols-1 gap-y-2 text-ui-fg-subtle txt-small\">\n                <li>\n                  <a\n                    href=\"https://github.com/medusajs\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    className=\"hover:text-ui-fg-base\"\n                  >\n                    GitHub\n                  </a>\n                </li>\n                <li>\n                  <a\n                    href=\"https://docs.medusajs.com\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    className=\"hover:text-ui-fg-base\"\n                  >\n                    Documentation\n                  </a>\n                </li>\n                <li>\n                  <a\n                    href=\"https://github.com/medusajs/nextjs-starter-medusa\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                    className=\"hover:text-ui-fg-base\"\n                  >\n                    Source code\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div className=\"flex w-full mb-16 justify-between text-ui-fg-muted\">\n          <Text className=\"txt-compact-small\">\n            © {new Date().getFullYear()} Medusa Store. All rights reserved.\n          </Text>\n          <MedusaCTA />\n        </div>\n      </div>\n    </footer>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AAAA;AAEA;AACA;;;;;;;AAEe,eAAe;IAC5B,MAAM,EAAE,WAAW,EAAE,GAAG,MAAM,IAAA,oJAAe,EAAC;QAC5C,QAAQ;IACV;IACA,MAAM,oBAAoB,MAAM,IAAA,kJAAc;IAE9C,qBACE,8OAAC;QAAO,WAAU;kBAChB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC;oBAAI,WAAU;;sCACb,8OAAC;sCACC,cAAA,8OAAC,0LAAmB;gCAClB,MAAK;gCACL,WAAU;0CACX;;;;;;;;;;;sCAIH,8OAAC;4BAAI,WAAU;;gCACZ,qBAAqB,mBAAmB,SAAS,mBAChD,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAK,WAAU;sDAAgC;;;;;;sDAGhD,8OAAC;4CACC,WAAU;4CACV,eAAY;sDAEX,mBAAmB,MAAM,GAAG,GAAG,IAAI,CAAC;gDACnC,IAAI,EAAE,eAAe,EAAE;oDACrB;gDACF;gDAEA,MAAM,WACJ,EAAE,iBAAiB,EAAE,IAAI,CAAC,QAAU,CAAC;wDACnC,MAAM,MAAM,IAAI;wDAChB,QAAQ,MAAM,MAAM;wDACpB,IAAI,MAAM,EAAE;oDACd,CAAC,MAAM;gDAET,qBACE,8OAAC;oDACC,WAAU;;sEAGV,8OAAC,0LAAmB;4DAClB,WAAW,IAAA,sKAAG,EACZ,yBACA,YAAY;4DAEd,MAAM,CAAC,YAAY,EAAE,EAAE,MAAM,EAAE;4DAC/B,eAAY;sEAEX,EAAE,IAAI;;;;;;wDAER,0BACC,8OAAC;4DAAG,WAAU;sEACX,YACC,SAAS,GAAG,CAAC,CAAC,sBACZ,8OAAC;8EACC,cAAA,8OAAC,0LAAmB;wEAClB,WAAU;wEACV,MAAM,CAAC,YAAY,EAAE,MAAM,MAAM,EAAE;wEACnC,eAAY;kFAEX,MAAM,IAAI;;;;;;mEANN,MAAM,EAAE;;;;;;;;;;;mDAhBpB,EAAE,EAAE;;;;;4CA8Bf;;;;;;;;;;;;gCAIL,eAAe,YAAY,MAAM,GAAG,mBACnC,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAK,WAAU;sDAAgC;;;;;;sDAGhD,8OAAC;4CACC,WAAW,IAAA,sKAAG,EACZ,sDACA;gDACE,eAAe,CAAC,aAAa,UAAU,CAAC,IAAI;4CAC9C;sDAGD,aAAa,MAAM,GAAG,GAAG,IAAI,CAAC,kBAC7B,8OAAC;8DACC,cAAA,8OAAC,0LAAmB;wDAClB,WAAU;wDACV,MAAM,CAAC,aAAa,EAAE,EAAE,MAAM,EAAE;kEAE/B,EAAE,KAAK;;;;;;mDALH,EAAE,EAAE;;;;;;;;;;;;;;;;8CAYrB,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAK,WAAU;sDAAgC;;;;;;sDAChD,8OAAC;4CAAG,WAAU;;8DACZ,8OAAC;8DACC,cAAA,8OAAC;wDACC,MAAK;wDACL,QAAO;wDACP,KAAI;wDACJ,WAAU;kEACX;;;;;;;;;;;8DAIH,8OAAC;8DACC,cAAA,8OAAC;wDACC,MAAK;wDACL,QAAO;wDACP,KAAI;wDACJ,WAAU;kEACX;;;;;;;;;;;8DAIH,8OAAC;8DACC,cAAA,8OAAC;wDACC,MAAK;wDACL,QAAO;wDACP,KAAI;wDACJ,WAAU;kEACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAQX,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,qLAAI;4BAAC,WAAU;;gCAAoB;gCAC/B,IAAI,OAAO,WAAW;gCAAG;;;;;;;sCAE9B,8OAAC,4KAAS;;;;;;;;;;;;;;;;;;;;;;AAKpB","debugId":null}},
    {"offset": {"line": 1485, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/layout/components/cart-dropdown/index.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/modules/layout/components/cart-dropdown/index.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/modules/layout/components/cart-dropdown/index.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAyT,GACtV,uFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1499, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/layout/components/cart-dropdown/index.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/modules/layout/components/cart-dropdown/index.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/modules/layout/components/cart-dropdown/index.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqS,GAClU,mEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1513, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 1521, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/layout/components/cart-button/index.tsx"],"sourcesContent":["import { retrieveCart } from \"@lib/data/cart\"\nimport CartDropdown from \"../cart-dropdown\"\n\nexport default async function CartButton() {\n  const cart = await retrieveCart().catch(() => null)\n\n  return <CartDropdown cart={cart} />\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,eAAe;IAC5B,MAAM,OAAO,MAAM,IAAA,0IAAY,IAAG,KAAK,CAAC,IAAM;IAE9C,qBAAO,8OAAC,+KAAY;QAAC,MAAM;;;;;;AAC7B","debugId":null}},
    {"offset": {"line": 1545, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/layout/components/side-menu/index.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/modules/layout/components/side-menu/index.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/modules/layout/components/side-menu/index.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAqT,GAClV,mFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1559, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/layout/components/side-menu/index.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/modules/layout/components/side-menu/index.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/modules/layout/components/side-menu/index.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAiS,GAC9T,+DACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1573, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 1581, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/layout/templates/nav/index.tsx"],"sourcesContent":["import { Suspense } from \"react\"\n\nimport { listRegions } from \"@lib/data/regions\"\nimport { StoreRegion } from \"@medusajs/types\"\nimport LocalizedClientLink from \"@modules/common/components/localized-client-link\"\nimport CartButton from \"@modules/layout/components/cart-button\"\nimport SideMenu from \"@modules/layout/components/side-menu\"\n\nexport default async function Nav() {\n  const regions = await listRegions().then((regions: StoreRegion[]) => regions)\n\n  return (\n    <div className=\"sticky top-0 inset-x-0 z-50 group\">\n      <header className=\"relative h-16 mx-auto border-b duration-200 bg-white border-ui-border-base\">\n        <nav className=\"content-container txt-xsmall-plus text-ui-fg-subtle flex items-center justify-between w-full h-full text-small-regular\">\n          <div className=\"flex-1 basis-0 h-full flex items-center\">\n            <div className=\"h-full\">\n              <SideMenu regions={regions} />\n            </div>\n          </div>\n\n          <div className=\"flex items-center h-full\">\n            <LocalizedClientLink\n              href=\"/\"\n              className=\"txt-compact-xlarge-plus hover:text-ui-fg-base uppercase\"\n              data-testid=\"nav-store-link\"\n            >\n              Medusa Store\n            </LocalizedClientLink>\n          </div>\n\n          <div className=\"flex items-center gap-x-6 h-full flex-1 basis-0 justify-end\">\n            <div className=\"hidden small:flex items-center gap-x-6 h-full\">\n              <LocalizedClientLink\n                className=\"hover:text-ui-fg-base\"\n                href=\"/account\"\n                data-testid=\"nav-account-link\"\n              >\n                Account\n              </LocalizedClientLink>\n            </div>\n            <Suspense\n              fallback={\n                <LocalizedClientLink\n                  className=\"hover:text-ui-fg-base flex gap-2\"\n                  href=\"/cart\"\n                  data-testid=\"nav-cart-link\"\n                >\n                  Cart (0)\n                </LocalizedClientLink>\n              }\n            >\n              <CartButton />\n            </Suspense>\n          </div>\n        </nav>\n      </header>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AAEA;AACA;AACA;;;;;;;AAEe,eAAe;IAC5B,MAAM,UAAU,MAAM,IAAA,4IAAW,IAAG,IAAI,CAAC,CAAC,UAA2B;IAErE,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAO,WAAU;sBAChB,cAAA,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC;4BAAI,WAAU;sCACb,cAAA,8OAAC,2KAAQ;gCAAC,SAAS;;;;;;;;;;;;;;;;kCAIvB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,0LAAmB;4BAClB,MAAK;4BACL,WAAU;4BACV,eAAY;sCACb;;;;;;;;;;;kCAKH,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;0CACb,cAAA,8OAAC,0LAAmB;oCAClB,WAAU;oCACV,MAAK;oCACL,eAAY;8CACb;;;;;;;;;;;0CAIH,8OAAC,iNAAQ;gCACP,wBACE,8OAAC,0LAAmB;oCAClB,WAAU;oCACV,MAAK;oCACL,eAAY;8CACb;;;;;;0CAKH,cAAA,8OAAC,6KAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOzB","debugId":null}},
    {"offset": {"line": 1712, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/shipping/components/free-shipping-price-nudge/index.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/modules/shipping/components/free-shipping-price-nudge/index.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/modules/shipping/components/free-shipping-price-nudge/index.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAuU,GACpW,qGACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1726, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/shipping/components/free-shipping-price-nudge/index.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/modules/shipping/components/free-shipping-price-nudge/index.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/modules/shipping/components/free-shipping-price-nudge/index.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAmT,GAChV,iFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1740, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 1748, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/app/%5BcountryCode%5D/%28main%29/layout.tsx"],"sourcesContent":["import { Metadata } from \"next\"\n\nimport { listCartOptions, retrieveCart } from \"@lib/data/cart\"\nimport { retrieveCustomer } from \"@lib/data/customer\"\nimport { getBaseURL } from \"@lib/util/env\"\nimport { StoreCartShippingOption } from \"@medusajs/types\"\nimport CartMismatchBanner from \"@modules/layout/components/cart-mismatch-banner\"\nimport Footer from \"@modules/layout/templates/footer\"\nimport Nav from \"@modules/layout/templates/nav\"\nimport FreeShippingPriceNudge from \"@modules/shipping/components/free-shipping-price-nudge\"\n\nexport const metadata: Metadata = {\n  metadataBase: new URL(getBaseURL()),\n}\n\nexport default async function PageLayout(props: { children: React.ReactNode }) {\n  const customer = await retrieveCustomer()\n  const cart = await retrieveCart()\n  let shippingOptions: StoreCartShippingOption[] = []\n\n  if (cart) {\n    const { shipping_options } = await listCartOptions()\n\n    shippingOptions = shipping_options\n  }\n\n  return (\n    <>\n      <Nav />\n      {customer && cart && (\n        <CartMismatchBanner customer={customer} cart={cart} />\n      )}\n\n      {cart && (\n        <FreeShippingPriceNudge\n          variant=\"popup\"\n          cart={cart}\n          shippingOptions={shippingOptions}\n        />\n      )}\n      {props.children}\n      <Footer />\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;AAEO,MAAM,WAAqB;IAChC,cAAc,IAAI,IAAI,IAAA,uIAAU;AAClC;AAEe,eAAe,WAAW,KAAoC;IAC3E,MAAM,WAAW,MAAM,IAAA,kJAAgB;IACvC,MAAM,OAAO,MAAM,IAAA,0IAAY;IAC/B,IAAI,kBAA6C,EAAE;IAEnD,IAAI,MAAM;QACR,MAAM,EAAE,gBAAgB,EAAE,GAAG,MAAM,IAAA,6IAAe;QAElD,kBAAkB;IACpB;IAEA,qBACE;;0BACE,8OAAC,iKAAG;;;;;YACH,YAAY,sBACX,8OAAC,yLAAkB;gBAAC,UAAU;gBAAU,MAAM;;;;;;YAG/C,sBACC,8OAAC,mMAAsB;gBACrB,SAAQ;gBACR,MAAM;gBACN,iBAAiB;;;;;;YAGpB,MAAM,QAAQ;0BACf,8OAAC,oKAAM;;;;;;;AAGb","debugId":null}}]
}