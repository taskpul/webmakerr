{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/lib/util/sort-products.ts"],"sourcesContent":["import { HttpTypes } from \"@medusajs/types\"\nimport { SortOptions } from \"@modules/store/components/refinement-list/sort-products\"\n\ninterface MinPricedProduct extends HttpTypes.StoreProduct {\n  _minPrice?: number\n}\n\n/**\n * Helper function to sort products by price until the store API supports sorting by price\n * @param products\n * @param sortBy\n * @returns products sorted by price\n */\nexport function sortProducts(\n  products: HttpTypes.StoreProduct[],\n  sortBy: SortOptions\n): HttpTypes.StoreProduct[] {\n  let sortedProducts = products as MinPricedProduct[]\n\n  if ([\"price_asc\", \"price_desc\"].includes(sortBy)) {\n    // Precompute the minimum price for each product\n    sortedProducts.forEach((product) => {\n      if (product.variants && product.variants.length > 0) {\n        product._minPrice = Math.min(\n          ...product.variants.map(\n            (variant) => variant?.calculated_price?.calculated_amount || 0\n          )\n        )\n      } else {\n        product._minPrice = Infinity\n      }\n    })\n\n    // Sort products based on the precomputed minimum prices\n    sortedProducts.sort((a, b) => {\n      const diff = a._minPrice! - b._minPrice!\n      return sortBy === \"price_asc\" ? diff : -diff\n    })\n  }\n\n  if (sortBy === \"created_at\") {\n    sortedProducts.sort((a, b) => {\n      return (\n        new Date(b.created_at!).getTime() - new Date(a.created_at!).getTime()\n      )\n    })\n  }\n\n  return sortedProducts\n}\n"],"names":[],"mappings":";;;;AAaO,SAAS,aACd,QAAkC,EAClC,MAAmB;IAEnB,IAAI,iBAAiB;IAErB,IAAI;QAAC;QAAa;KAAa,CAAC,QAAQ,CAAC,SAAS;QAChD,gDAAgD;QAChD,eAAe,OAAO,CAAC,CAAC;YACtB,IAAI,QAAQ,QAAQ,IAAI,QAAQ,QAAQ,CAAC,MAAM,GAAG,GAAG;gBACnD,QAAQ,SAAS,GAAG,KAAK,GAAG,IACvB,QAAQ,QAAQ,CAAC,GAAG,CACrB,CAAC,UAAY,SAAS,kBAAkB,qBAAqB;YAGnE,OAAO;gBACL,QAAQ,SAAS,GAAG;YACtB;QACF;QAEA,wDAAwD;QACxD,eAAe,IAAI,CAAC,CAAC,GAAG;YACtB,MAAM,OAAO,EAAE,SAAS,GAAI,EAAE,SAAS;YACvC,OAAO,WAAW,cAAc,OAAO,CAAC;QAC1C;IACF;IAEA,IAAI,WAAW,cAAc;QAC3B,eAAe,IAAI,CAAC,CAAC,GAAG;YACtB,OACE,IAAI,KAAK,EAAE,UAAU,EAAG,OAAO,KAAK,IAAI,KAAK,EAAE,UAAU,EAAG,OAAO;QAEvE;IACF;IAEA,OAAO;AACT","debugId":null}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/lib/data/products.ts"],"sourcesContent":["\"use server\"\n\nimport { sdk } from \"@lib/config\"\nimport { sortProducts } from \"@lib/util/sort-products\"\nimport { HttpTypes } from \"@medusajs/types\"\nimport { SortOptions } from \"@modules/store/components/refinement-list/sort-products\"\nimport { getAuthHeaders, getCacheOptions } from \"./cookies\"\nimport { getRegion, retrieveRegion } from \"./regions\"\n\nexport const listProducts = async ({\n  pageParam = 1,\n  queryParams,\n  countryCode,\n  regionId,\n}: {\n  pageParam?: number\n  queryParams?: HttpTypes.FindParams & HttpTypes.StoreProductParams\n  countryCode?: string\n  regionId?: string\n}): Promise<{\n  response: { products: HttpTypes.StoreProduct[]; count: number }\n  nextPage: number | null\n  queryParams?: HttpTypes.FindParams & HttpTypes.StoreProductParams\n}> => {\n  if (!countryCode && !regionId) {\n    throw new Error(\"Country code or region ID is required\")\n  }\n\n  const limit = queryParams?.limit || 12\n  const _pageParam = Math.max(pageParam, 1)\n  const offset = (_pageParam === 1) ? 0 : (_pageParam - 1) * limit;\n\n  let region: HttpTypes.StoreRegion | undefined | null\n\n  if (countryCode) {\n    region = await getRegion(countryCode)\n  } else {\n    region = await retrieveRegion(regionId!)\n  }\n\n  if (!region) {\n    return {\n      response: { products: [], count: 0 },\n      nextPage: null,\n    }\n  }\n\n  const headers = {\n    ...(await getAuthHeaders()),\n  }\n\n  const next = {\n    ...(await getCacheOptions(\"products\")),\n  }\n\n  return sdk.client\n    .fetch<{ products: HttpTypes.StoreProduct[]; count: number }>(\n      `/store/products`,\n      {\n        method: \"GET\",\n        query: {\n          limit,\n          offset,\n          region_id: region?.id,\n          fields:\n            \"*variants.calculated_price,+variants.inventory_quantity,+metadata,+tags\",\n          ...queryParams,\n        },\n        headers,\n        next,\n        cache: \"force-cache\",\n      }\n    )\n    .then(({ products, count }) => {\n      const nextPage = count > offset + limit ? pageParam + 1 : null\n\n      return {\n        response: {\n          products,\n          count,\n        },\n        nextPage: nextPage,\n        queryParams,\n      }\n    })\n}\n\n/**\n * This will fetch 100 products to the Next.js cache and sort them based on the sortBy parameter.\n * It will then return the paginated products based on the page and limit parameters.\n */\nexport const listProductsWithSort = async ({\n  page = 0,\n  queryParams,\n  sortBy = \"created_at\",\n  countryCode,\n}: {\n  page?: number\n  queryParams?: HttpTypes.FindParams & HttpTypes.StoreProductParams\n  sortBy?: SortOptions\n  countryCode: string\n}): Promise<{\n  response: { products: HttpTypes.StoreProduct[]; count: number }\n  nextPage: number | null\n  queryParams?: HttpTypes.FindParams & HttpTypes.StoreProductParams\n}> => {\n  const limit = queryParams?.limit || 12\n\n  const {\n    response: { products, count },\n  } = await listProducts({\n    pageParam: 0,\n    queryParams: {\n      ...queryParams,\n      limit: 100,\n    },\n    countryCode,\n  })\n\n  const sortedProducts = sortProducts(products, sortBy)\n\n  const pageParam = (page - 1) * limit\n\n  const nextPage = count > pageParam + limit ? pageParam + limit : null\n\n  const paginatedProducts = sortedProducts.slice(pageParam, pageParam + limit)\n\n  return {\n    response: {\n      products: paginatedProducts,\n      count,\n    },\n    nextPage,\n    queryParams,\n  }\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAGA;AACA;;;;;;;AAEO,MAAM,eAAe,OAAO,EACjC,YAAY,CAAC,EACb,WAAW,EACX,WAAW,EACX,QAAQ,EAMT;IAKC,IAAI,CAAC,eAAe,CAAC,UAAU;QAC7B,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,QAAQ,aAAa,SAAS;IACpC,MAAM,aAAa,KAAK,GAAG,CAAC,WAAW;IACvC,MAAM,SAAS,AAAC,eAAe,IAAK,IAAI,CAAC,aAAa,CAAC,IAAI;IAE3D,IAAI;IAEJ,IAAI,aAAa;QACf,SAAS,MAAM,IAAA,0IAAS,EAAC;IAC3B,OAAO;QACL,SAAS,MAAM,IAAA,+IAAc,EAAC;IAChC;IAEA,IAAI,CAAC,QAAQ;QACX,OAAO;YACL,UAAU;gBAAE,UAAU,EAAE;gBAAE,OAAO;YAAE;YACnC,UAAU;QACZ;IACF;IAEA,MAAM,UAAU;QACd,GAAI,MAAM,IAAA,+IAAc,GAAE;IAC5B;IAEA,MAAM,OAAO;QACX,GAAI,MAAM,IAAA,gJAAe,EAAC,WAAW;IACvC;IAEA,OAAO,2HAAG,CAAC,MAAM,CACd,KAAK,CACJ,CAAC,eAAe,CAAC,EACjB;QACE,QAAQ;QACR,OAAO;YACL;YACA;YACA,WAAW,QAAQ;YACnB,QACE;YACF,GAAG,WAAW;QAChB;QACA;QACA;QACA,OAAO;IACT,GAED,IAAI,CAAC,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE;QACxB,MAAM,WAAW,QAAQ,SAAS,QAAQ,YAAY,IAAI;QAE1D,OAAO;YACL,UAAU;gBACR;gBACA;YACF;YACA,UAAU;YACV;QACF;IACF;AACJ;AAMO,MAAM,uBAAuB,OAAO,EACzC,OAAO,CAAC,EACR,WAAW,EACX,SAAS,YAAY,EACrB,WAAW,EAMZ;IAKC,MAAM,QAAQ,aAAa,SAAS;IAEpC,MAAM,EACJ,UAAU,EAAE,QAAQ,EAAE,KAAK,EAAE,EAC9B,GAAG,MAAM,aAAa;QACrB,WAAW;QACX,aAAa;YACX,GAAG,WAAW;YACd,OAAO;QACT;QACA;IACF;IAEA,MAAM,iBAAiB,IAAA,sJAAY,EAAC,UAAU;IAE9C,MAAM,YAAY,CAAC,OAAO,CAAC,IAAI;IAE/B,MAAM,WAAW,QAAQ,YAAY,QAAQ,YAAY,QAAQ;IAEjE,MAAM,oBAAoB,eAAe,KAAK,CAAC,WAAW,YAAY;IAEtE,OAAO;QACL,UAAU;YACR,UAAU;YACV;QACF;QACA;QACA;IACF;AACF;;;IA9Ha;IAkFA;;AAlFA,+OAAA;AAkFA,+OAAA","debugId":null}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/.next-internal/server/app/%5BcountryCode%5D/%28main%29/products/%5Bhandle%5D/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {listCartOptions as '00810dbb0756144437a6c0b7f9771311bd01de703e'} from 'ACTIONS_MODULE0'\nexport {applyPromotions as '40006d6b353f90be7f42e3449d047ddc5bae2f4788'} from 'ACTIONS_MODULE0'\nexport {getOrSetCart as '402b02e27c65dc7f46a5e8935fe6f38978deb9007d'} from 'ACTIONS_MODULE0'\nexport {deleteLineItem as '402f3ca625c24e67e170ddff6e667a87b5c2147074'} from 'ACTIONS_MODULE0'\nexport {updateCart as '4036755189032865b2fe7640e84a20437f7843efa8'} from 'ACTIONS_MODULE0'\nexport {addToCart as '403a45e101b4da07ef57aea9082507d600cba11c10'} from 'ACTIONS_MODULE0'\nexport {setShippingMethod as '408311bee02952e8f0bd783d1580e1966b94805c5a'} from 'ACTIONS_MODULE0'\nexport {updateLineItem as '408de892d595098cdfbd548e313b9a32e9e662cf0a'} from 'ACTIONS_MODULE0'\nexport {placeOrder as '40a201eded95f857b21d855f767539ed2a3fe2d98a'} from 'ACTIONS_MODULE0'\nexport {removeDiscount as '40b3dbac27ce901422bec6a115bfa2d2421ed7bf73'} from 'ACTIONS_MODULE0'\nexport {applyGiftCard as '40db3f78d873329c66a773336065e7fcda57692c59'} from 'ACTIONS_MODULE0'\nexport {removeGiftCard as '601672e6593b2f56e1bffcbf1b2f1c563b52de6b17'} from 'ACTIONS_MODULE0'\nexport {submitPromotionForm as '6036cd148cd61893589d7dac920f46bd9c97cea8fe'} from 'ACTIONS_MODULE0'\nexport {retrieveCart as '6087bcc25cf593f5eefdad609c6e42fad255df40f9'} from 'ACTIONS_MODULE0'\nexport {initiatePaymentSession as '60a21d6573400751f25df9e3c24ca548b623fb5ea4'} from 'ACTIONS_MODULE0'\nexport {updateRegion as '60b41ebb6475a54ac9423c1398d4ac83e3219e716c'} from 'ACTIONS_MODULE0'\nexport {setAddresses as '60c26e45196f09781face1bd049edd755a7a831212'} from 'ACTIONS_MODULE0'\nexport {transferCart as '00a2ab230eed50a10ccd5f737a269122cca3ae1575'} from 'ACTIONS_MODULE1'\nexport {signout as '40ebd7ef516f4a0b6f0dc3d1f99ff83d243ababaa3'} from 'ACTIONS_MODULE1'\nexport {login as '60458b1c0efc2054df31a39f555f569be7647d2d9e'} from 'ACTIONS_MODULE1'\nexport {signup as '60d5ac4fbfa982aa48e2c6098343638e8e5c683e83'} from 'ACTIONS_MODULE1'\nexport {updateCustomer as '7f0dafe382f0db694ba433d205d384754c024940ca'} from 'ACTIONS_MODULE1'\nexport {retrieveCustomer as '7f6194daccfdec98ccf752ea414c63d3fb4fc4c028'} from 'ACTIONS_MODULE1'\nexport {addCustomerAddress as '7f82e9143d7437bb92f785b73e7a87f6e4bad1cb27'} from 'ACTIONS_MODULE1'\nexport {updateCustomerAddress as '7fb89329a8d04262e6d199948818259c039495d940'} from 'ACTIONS_MODULE1'\nexport {deleteCustomerAddress as '7fc0c88cd504e3b553c1a8d322e85d72585646fabe'} from 'ACTIONS_MODULE1'\nexport {getRegion as '7f298b95877d9f2b5ebb013a48a712ac6a7ad53ce0'} from 'ACTIONS_MODULE2'\nexport {listRegions as '7f5f233755c6fd63d42d72d803c15ec35745d00bcb'} from 'ACTIONS_MODULE2'\nexport {retrieveRegion as '7f7d89a18a40a43730bf2a45075cd8231dde61117d'} from 'ACTIONS_MODULE2'\nexport {listCollections as '7f1efbe5f3b170f16261897805bca4bfa1f9c7c8e1'} from 'ACTIONS_MODULE3'\nexport {retrieveCollection as '7f92ffbacfeac13e309d35849adfb58e11b6465123'} from 'ACTIONS_MODULE3'\nexport {getCollectionByHandle as '7fd993c2b6158249017044e5a4d1d65cb7e2cce5da'} from 'ACTIONS_MODULE3'\nexport {listProducts as '7f2d1d2774ca31a5b4373b7c6790a9bf57a551d0dd'} from 'ACTIONS_MODULE4'\nexport {listProductsWithSort as '7f6db0bf4620ad74ce4c915458e28c273474c4d9b7'} from 'ACTIONS_MODULE4'\n"],"names":[],"mappings":";AAAA;AAiBA;AASA;AAGA;AAGA","debugId":null}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/products/components/image-gallery/index.tsx"],"sourcesContent":["import { HttpTypes } from \"@medusajs/types\"\nimport { Container } from \"@medusajs/ui\"\nimport Image from \"next/image\"\n\ntype ImageGalleryProps = {\n  images: HttpTypes.StoreProductImage[]\n}\n\nconst ImageGallery = ({ images }: ImageGalleryProps) => {\n  return (\n    <div className=\"flex items-start relative\">\n      <div className=\"flex flex-col flex-1 small:mx-16 gap-y-4\">\n        {images.map((image, index) => {\n          return (\n            <Container\n              key={image.id}\n              className=\"relative aspect-[29/34] w-full overflow-hidden bg-ui-bg-subtle\"\n              id={image.id}\n            >\n              {!!image.url && (\n                <Image\n                  src={image.url}\n                  priority={index <= 2 ? true : false}\n                  className=\"absolute inset-0 rounded-rounded\"\n                  alt={`Product image ${index + 1}`}\n                  fill\n                  sizes=\"(max-width: 576px) 280px, (max-width: 768px) 360px, (max-width: 992px) 480px, 800px\"\n                  style={{\n                    objectFit: \"cover\",\n                  }}\n                />\n              )}\n            </Container>\n          )\n        })}\n      </div>\n    </div>\n  )\n}\n\nexport default ImageGallery\n"],"names":[],"mappings":";;;;;AACA;AACA;;;;AAMA,MAAM,eAAe,CAAC,EAAE,MAAM,EAAqB;IACjD,qBACE,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC;YAAI,WAAU;sBACZ,OAAO,GAAG,CAAC,CAAC,OAAO;gBAClB,qBACE,8OAAC,oMAAS;oBAER,WAAU;oBACV,IAAI,MAAM,EAAE;8BAEX,CAAC,CAAC,MAAM,GAAG,kBACV,8OAAC,wIAAK;wBACJ,KAAK,MAAM,GAAG;wBACd,UAAU,SAAS,IAAI,OAAO;wBAC9B,WAAU;wBACV,KAAK,CAAC,cAAc,EAAE,QAAQ,GAAG;wBACjC,IAAI;wBACJ,OAAM;wBACN,OAAO;4BACL,WAAW;wBACb;;;;;;mBAdC,MAAM,EAAE;;;;;YAmBnB;;;;;;;;;;;AAIR;uCAEe","debugId":null}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/products/components/product-actions/index.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/modules/products/components/product-actions/index.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/modules/products/components/product-actions/index.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA6T,GAC1V,2FACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 360, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/products/components/product-actions/index.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/modules/products/components/product-actions/index.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/modules/products/components/product-actions/index.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAyS,GACtU,uEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 374, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 382, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/products/components/product-onboarding-cta/index.tsx"],"sourcesContent":["import { Button, Container, Text } from \"@medusajs/ui\"\nimport { cookies as nextCookies } from \"next/headers\"\n\nasync function ProductOnboardingCta() {\n  const cookies = await nextCookies()\n\n  const isOnboarding = cookies.get(\"_medusa_onboarding\")?.value === \"true\"\n\n  if (!isOnboarding) {\n    return null\n  }\n\n  return (\n    <Container className=\"max-w-4xl h-full bg-ui-bg-subtle w-full p-8\">\n      <div className=\"flex flex-col gap-y-4 center\">\n        <Text className=\"text-ui-fg-base text-xl\">\n          Your demo product was successfully created! 🎉\n        </Text>\n        <Text className=\"text-ui-fg-subtle text-small-regular\">\n          You can now continue setting up your store in the admin.\n        </Text>\n        <a href=\"http://localhost:7001/a/orders?onboarding_step=create_order_nextjs\">\n          <Button className=\"w-full\">Continue setup in admin</Button>\n        </a>\n      </div>\n    </Container>\n  )\n}\n\nexport default ProductOnboardingCta\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AAAA;AACA;;;;AAEA,eAAe;IACb,MAAM,UAAU,MAAM,IAAA,0IAAW;IAEjC,MAAM,eAAe,QAAQ,GAAG,CAAC,uBAAuB,UAAU;IAElE,IAAI,CAAC,cAAc;QACjB,OAAO;IACT;IAEA,qBACE,8OAAC,oMAAS;QAAC,WAAU;kBACnB,cAAA,8OAAC;YAAI,WAAU;;8BACb,8OAAC,qLAAI;oBAAC,WAAU;8BAA0B;;;;;;8BAG1C,8OAAC,qLAAI;oBAAC,WAAU;8BAAuC;;;;;;8BAGvD,8OAAC;oBAAE,MAAK;8BACN,cAAA,8OAAC,2LAAM;wBAAC,WAAU;kCAAS;;;;;;;;;;;;;;;;;;;;;;AAKrC;uCAEe","debugId":null}},
    {"offset": {"line": 453, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/products/components/product-tabs/index.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/modules/products/components/product-tabs/index.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/modules/products/components/product-tabs/index.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA0T,GACvV,wFACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 467, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/products/components/product-tabs/index.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/modules/products/components/product-tabs/index.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/modules/products/components/product-tabs/index.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAsS,GACnU,oEACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 481, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 489, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/lib/util/get-precentage-diff.ts"],"sourcesContent":["export const getPercentageDiff = (original: number, calculated: number) => {\n  const diff = original - calculated\n  const decrease = (diff / original) * 100\n\n  return decrease.toFixed()\n}\n"],"names":[],"mappings":";;;;AAAO,MAAM,oBAAoB,CAAC,UAAkB;IAClD,MAAM,OAAO,WAAW;IACxB,MAAM,WAAW,AAAC,OAAO,WAAY;IAErC,OAAO,SAAS,OAAO;AACzB","debugId":null}},
    {"offset": {"line": 502, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/lib/util/isEmpty.ts"],"sourcesContent":["export const isObject = (input: any) => input instanceof Object\nexport const isArray = (input: any) => Array.isArray(input)\nexport const isEmpty = (input: any) => {\n  return (\n    input === null ||\n    input === undefined ||\n    (isObject(input) && Object.keys(input).length === 0) ||\n    (isArray(input) && (input as any[]).length === 0) ||\n    (typeof input === \"string\" && input.trim().length === 0)\n  )\n}\n"],"names":[],"mappings":";;;;;;;;AAAO,MAAM,WAAW,CAAC,QAAe,iBAAiB;AAClD,MAAM,UAAU,CAAC,QAAe,MAAM,OAAO,CAAC;AAC9C,MAAM,UAAU,CAAC;IACtB,OACE,UAAU,QACV,UAAU,aACT,SAAS,UAAU,OAAO,IAAI,CAAC,OAAO,MAAM,KAAK,KACjD,QAAQ,UAAU,AAAC,MAAgB,MAAM,KAAK,KAC9C,OAAO,UAAU,YAAY,MAAM,IAAI,GAAG,MAAM,KAAK;AAE1D","debugId":null}},
    {"offset": {"line": 519, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/lib/util/money.ts"],"sourcesContent":["import { isEmpty } from \"./isEmpty\"\n\ntype ConvertToLocaleParams = {\n  amount: number\n  currency_code: string\n  minimumFractionDigits?: number\n  maximumFractionDigits?: number\n  locale?: string\n}\n\nexport const convertToLocale = ({\n  amount,\n  currency_code,\n  minimumFractionDigits,\n  maximumFractionDigits,\n  locale = \"en-US\",\n}: ConvertToLocaleParams) => {\n  return currency_code && !isEmpty(currency_code)\n    ? new Intl.NumberFormat(locale, {\n        style: \"currency\",\n        currency: currency_code,\n        minimumFractionDigits,\n        maximumFractionDigits,\n      }).format(amount)\n    : amount.toString()\n}\n"],"names":[],"mappings":";;;;AAAA;;AAUO,MAAM,kBAAkB,CAAC,EAC9B,MAAM,EACN,aAAa,EACb,qBAAqB,EACrB,qBAAqB,EACrB,SAAS,OAAO,EACM;IACtB,OAAO,iBAAiB,CAAC,IAAA,wIAAO,EAAC,iBAC7B,IAAI,KAAK,YAAY,CAAC,QAAQ;QAC5B,OAAO;QACP,UAAU;QACV;QACA;IACF,GAAG,MAAM,CAAC,UACV,OAAO,QAAQ;AACrB","debugId":null}},
    {"offset": {"line": 537, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/lib/util/get-product-price.ts"],"sourcesContent":["import { HttpTypes } from \"@medusajs/types\"\nimport { getPercentageDiff } from \"./get-precentage-diff\"\nimport { convertToLocale } from \"./money\"\n\nexport const getPricesForVariant = (variant: any) => {\n  if (!variant?.calculated_price?.calculated_amount) {\n    return null\n  }\n\n  return {\n    calculated_price_number: variant.calculated_price.calculated_amount,\n    calculated_price: convertToLocale({\n      amount: variant.calculated_price.calculated_amount,\n      currency_code: variant.calculated_price.currency_code,\n    }),\n    original_price_number: variant.calculated_price.original_amount,\n    original_price: convertToLocale({\n      amount: variant.calculated_price.original_amount,\n      currency_code: variant.calculated_price.currency_code,\n    }),\n    currency_code: variant.calculated_price.currency_code,\n    price_type: variant.calculated_price.calculated_price.price_list_type,\n    percentage_diff: getPercentageDiff(\n      variant.calculated_price.original_amount,\n      variant.calculated_price.calculated_amount\n    ),\n  }\n}\n\nexport function getProductPrice({\n  product,\n  variantId,\n}: {\n  product: HttpTypes.StoreProduct\n  variantId?: string\n}) {\n  if (!product || !product.id) {\n    throw new Error(\"No product provided\")\n  }\n\n  const cheapestPrice = () => {\n    if (!product || !product.variants?.length) {\n      return null\n    }\n\n    const cheapestVariant: any = product.variants\n      .filter((v: any) => !!v.calculated_price)\n      .sort((a: any, b: any) => {\n        return (\n          a.calculated_price.calculated_amount -\n          b.calculated_price.calculated_amount\n        )\n      })[0]\n\n    return getPricesForVariant(cheapestVariant)\n  }\n\n  const variantPrice = () => {\n    if (!product || !variantId) {\n      return null\n    }\n\n    const variant: any = product.variants?.find(\n      (v) => v.id === variantId || v.sku === variantId\n    )\n\n    if (!variant) {\n      return null\n    }\n\n    return getPricesForVariant(variant)\n  }\n\n  return {\n    product,\n    cheapestPrice: cheapestPrice(),\n    variantPrice: variantPrice(),\n  }\n}\n"],"names":[],"mappings":";;;;;;AACA;AACA;;;AAEO,MAAM,sBAAsB,CAAC;IAClC,IAAI,CAAC,SAAS,kBAAkB,mBAAmB;QACjD,OAAO;IACT;IAEA,OAAO;QACL,yBAAyB,QAAQ,gBAAgB,CAAC,iBAAiB;QACnE,kBAAkB,IAAA,8IAAe,EAAC;YAChC,QAAQ,QAAQ,gBAAgB,CAAC,iBAAiB;YAClD,eAAe,QAAQ,gBAAgB,CAAC,aAAa;QACvD;QACA,uBAAuB,QAAQ,gBAAgB,CAAC,eAAe;QAC/D,gBAAgB,IAAA,8IAAe,EAAC;YAC9B,QAAQ,QAAQ,gBAAgB,CAAC,eAAe;YAChD,eAAe,QAAQ,gBAAgB,CAAC,aAAa;QACvD;QACA,eAAe,QAAQ,gBAAgB,CAAC,aAAa;QACrD,YAAY,QAAQ,gBAAgB,CAAC,gBAAgB,CAAC,eAAe;QACrE,iBAAiB,IAAA,oKAAiB,EAChC,QAAQ,gBAAgB,CAAC,eAAe,EACxC,QAAQ,gBAAgB,CAAC,iBAAiB;IAE9C;AACF;AAEO,SAAS,gBAAgB,EAC9B,OAAO,EACP,SAAS,EAIV;IACC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,EAAE;QAC3B,MAAM,IAAI,MAAM;IAClB;IAEA,MAAM,gBAAgB;QACpB,IAAI,CAAC,WAAW,CAAC,QAAQ,QAAQ,EAAE,QAAQ;YACzC,OAAO;QACT;QAEA,MAAM,kBAAuB,QAAQ,QAAQ,CAC1C,MAAM,CAAC,CAAC,IAAW,CAAC,CAAC,EAAE,gBAAgB,EACvC,IAAI,CAAC,CAAC,GAAQ;YACb,OACE,EAAE,gBAAgB,CAAC,iBAAiB,GACpC,EAAE,gBAAgB,CAAC,iBAAiB;QAExC,EAAE,CAAC,EAAE;QAEP,OAAO,oBAAoB;IAC7B;IAEA,MAAM,eAAe;QACnB,IAAI,CAAC,WAAW,CAAC,WAAW;YAC1B,OAAO;QACT;QAEA,MAAM,UAAe,QAAQ,QAAQ,EAAE,KACrC,CAAC,IAAM,EAAE,EAAE,KAAK,aAAa,EAAE,GAAG,KAAK;QAGzC,IAAI,CAAC,SAAS;YACZ,OAAO;QACT;QAEA,OAAO,oBAAoB;IAC7B;IAEA,OAAO;QACL;QACA,eAAe;QACf,cAAc;IAChB;AACF","debugId":null}},
    {"offset": {"line": 600, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/common/icons/placeholder-image.tsx"],"sourcesContent":["import React from \"react\"\n\nimport { IconProps } from \"types/icon\"\n\nconst PlaceholderImage: React.FC<IconProps> = ({\n  size = \"20\",\n  color = \"currentColor\",\n  ...attributes\n}) => {\n  return (\n    <svg\n      width={size}\n      height={size}\n      viewBox=\"0 0 20 20\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...attributes}\n    >\n      <path\n        d=\"M15.3141 3.16699H4.68453C3.84588 3.16699 3.16602 3.84685 3.16602 4.6855V15.3151C3.16602 16.1537 3.84588 16.8336 4.68453 16.8336H15.3141C16.1527 16.8336 16.8326 16.1537 16.8326 15.3151V4.6855C16.8326 3.84685 16.1527 3.16699 15.3141 3.16699Z\"\n        stroke={color}\n        strokeWidth=\"1.53749\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M7.91699 9.16699C8.60735 9.16699 9.16699 8.60735 9.16699 7.91699C9.16699 7.22664 8.60735 6.66699 7.91699 6.66699C7.22664 6.66699 6.66699 7.22664 6.66699 7.91699C6.66699 8.60735 7.22664 9.16699 7.91699 9.16699Z\"\n        stroke={color}\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n      <path\n        d=\"M16.6667 12.5756L13.0208 9.1665L5 16.6665\"\n        stroke={color}\n        strokeWidth=\"1.5\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      />\n    </svg>\n  )\n}\n\nexport default PlaceholderImage\n"],"names":[],"mappings":";;;;;;AAIA,MAAM,mBAAwC,CAAC,EAC7C,OAAO,IAAI,EACX,QAAQ,cAAc,EACtB,GAAG,YACJ;IACC,qBACE,8OAAC;QACC,OAAO;QACP,QAAQ;QACR,SAAQ;QACR,MAAK;QACL,OAAM;QACL,GAAG,UAAU;;0BAEd,8OAAC;gBACC,GAAE;gBACF,QAAQ;gBACR,aAAY;gBACZ,eAAc;gBACd,gBAAe;;;;;;0BAEjB,8OAAC;gBACC,GAAE;gBACF,QAAQ;gBACR,aAAY;gBACZ,eAAc;gBACd,gBAAe;;;;;;0BAEjB,8OAAC;gBACC,GAAE;gBACF,QAAQ;gBACR,aAAY;gBACZ,eAAc;gBACd,gBAAe;;;;;;;;;;;;AAIvB;uCAEe","debugId":null}},
    {"offset": {"line": 660, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/products/components/thumbnail/index.tsx"],"sourcesContent":["import { Container, clx } from \"@medusajs/ui\"\nimport Image from \"next/image\"\nimport React from \"react\"\n\nimport PlaceholderImage from \"@modules/common/icons/placeholder-image\"\n\ntype ThumbnailProps = {\n  thumbnail?: string | null\n  // TODO: Fix image typings\n  images?: any[] | null\n  size?: \"small\" | \"medium\" | \"large\" | \"full\" | \"square\"\n  isFeatured?: boolean\n  className?: string\n  \"data-testid\"?: string\n}\n\nconst Thumbnail: React.FC<ThumbnailProps> = ({\n  thumbnail,\n  images,\n  size = \"small\",\n  isFeatured,\n  className,\n  \"data-testid\": dataTestid,\n}) => {\n  const initialImage = thumbnail || images?.[0]?.url\n\n  return (\n    <Container\n      className={clx(\n        \"relative w-full overflow-hidden p-4 bg-ui-bg-subtle shadow-elevation-card-rest rounded-large group-hover:shadow-elevation-card-hover transition-shadow ease-in-out duration-150\",\n        className,\n        {\n          \"aspect-[11/14]\": isFeatured,\n          \"aspect-[9/16]\": !isFeatured && size !== \"square\",\n          \"aspect-[1/1]\": size === \"square\",\n          \"w-[180px]\": size === \"small\",\n          \"w-[290px]\": size === \"medium\",\n          \"w-[440px]\": size === \"large\",\n          \"w-full\": size === \"full\",\n        }\n      )}\n      data-testid={dataTestid}\n    >\n      <ImageOrPlaceholder image={initialImage} size={size} />\n    </Container>\n  )\n}\n\nconst ImageOrPlaceholder = ({\n  image,\n  size,\n}: Pick<ThumbnailProps, \"size\"> & { image?: string }) => {\n  return image ? (\n    <Image\n      src={image}\n      alt=\"Thumbnail\"\n      className=\"absolute inset-0 object-cover object-center\"\n      draggable={false}\n      quality={50}\n      sizes=\"(max-width: 576px) 280px, (max-width: 768px) 360px, (max-width: 992px) 480px, 800px\"\n      fill\n    />\n  ) : (\n    <div className=\"w-full h-full absolute inset-0 flex items-center justify-center\">\n      <PlaceholderImage size={size === \"small\" ? 16 : 24} />\n    </div>\n  )\n}\n\nexport default Thumbnail\n"],"names":[],"mappings":";;;;;AAAA;AAAA;AACA;AAGA;;;;;AAYA,MAAM,YAAsC,CAAC,EAC3C,SAAS,EACT,MAAM,EACN,OAAO,OAAO,EACd,UAAU,EACV,SAAS,EACT,eAAe,UAAU,EAC1B;IACC,MAAM,eAAe,aAAa,QAAQ,CAAC,EAAE,EAAE;IAE/C,qBACE,8OAAC,oMAAS;QACR,WAAW,IAAA,sKAAG,EACZ,mLACA,WACA;YACE,kBAAkB;YAClB,iBAAiB,CAAC,cAAc,SAAS;YACzC,gBAAgB,SAAS;YACzB,aAAa,SAAS;YACtB,aAAa,SAAS;YACtB,aAAa,SAAS;YACtB,UAAU,SAAS;QACrB;QAEF,eAAa;kBAEb,cAAA,8OAAC;YAAmB,OAAO;YAAc,MAAM;;;;;;;;;;;AAGrD;AAEA,MAAM,qBAAqB,CAAC,EAC1B,KAAK,EACL,IAAI,EAC8C;IAClD,OAAO,sBACL,8OAAC,wIAAK;QACJ,KAAK;QACL,KAAI;QACJ,WAAU;QACV,WAAW;QACX,SAAS;QACT,OAAM;QACN,IAAI;;;;;iEAGN,8OAAC;QAAI,WAAU;kBACb,cAAA,8OAAC,qKAAgB;YAAC,MAAM,SAAS,UAAU,KAAK;;;;;;;;;;;AAGtD;uCAEe","debugId":null}},
    {"offset": {"line": 733, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/products/components/product-preview/price.tsx"],"sourcesContent":["import { Text, clx } from \"@medusajs/ui\"\nimport { VariantPrice } from \"types/global\"\n\nexport default async function PreviewPrice({ price }: { price: VariantPrice }) {\n  if (!price) {\n    return null\n  }\n\n  return (\n    <>\n      {price.price_type === \"sale\" && (\n        <Text\n          className=\"line-through text-ui-fg-muted\"\n          data-testid=\"original-price\"\n        >\n          {price.original_price}\n        </Text>\n      )}\n      <Text\n        className={clx(\"text-ui-fg-muted\", {\n          \"text-ui-fg-interactive\": price.price_type === \"sale\",\n        })}\n        data-testid=\"price\"\n      >\n        {price.calculated_price}\n      </Text>\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AAAA;;;AAGe,eAAe,aAAa,EAAE,KAAK,EAA2B;IAC3E,IAAI,CAAC,OAAO;QACV,OAAO;IACT;IAEA,qBACE;;YACG,MAAM,UAAU,KAAK,wBACpB,8OAAC,qLAAI;gBACH,WAAU;gBACV,eAAY;0BAEX,MAAM,cAAc;;;;;;0BAGzB,8OAAC,qLAAI;gBACH,WAAW,IAAA,sKAAG,EAAC,oBAAoB;oBACjC,0BAA0B,MAAM,UAAU,KAAK;gBACjD;gBACA,eAAY;0BAEX,MAAM,gBAAgB;;;;;;;;AAI/B","debugId":null}},
    {"offset": {"line": 775, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/products/components/product-preview/index.tsx"],"sourcesContent":["import { Text } from \"@medusajs/ui\"\nimport { listProducts } from \"@lib/data/products\"\nimport { getProductPrice } from \"@lib/util/get-product-price\"\nimport { HttpTypes } from \"@medusajs/types\"\nimport LocalizedClientLink from \"@modules/common/components/localized-client-link\"\nimport Thumbnail from \"../thumbnail\"\nimport PreviewPrice from \"./price\"\n\nexport default async function ProductPreview({\n  product,\n  isFeatured,\n  region,\n}: {\n  product: HttpTypes.StoreProduct\n  isFeatured?: boolean\n  region: HttpTypes.StoreRegion\n}) {\n  // const pricedProduct = await listProducts({\n  //   regionId: region.id,\n  //   queryParams: { id: [product.id!] },\n  // }).then(({ response }) => response.products[0])\n\n  // if (!pricedProduct) {\n  //   return null\n  // }\n\n  const { cheapestPrice } = getProductPrice({\n    product,\n  })\n\n  return (\n    <LocalizedClientLink href={`/products/${product.handle}`} className=\"group\">\n      <div data-testid=\"product-wrapper\">\n        <Thumbnail\n          thumbnail={product.thumbnail}\n          images={product.images}\n          size=\"full\"\n          isFeatured={isFeatured}\n        />\n        <div className=\"flex txt-compact-medium mt-4 justify-between\">\n          <Text className=\"text-ui-fg-subtle\" data-testid=\"product-title\">\n            {product.title}\n          </Text>\n          <div className=\"flex items-center gap-x-2\">\n            {cheapestPrice && <PreviewPrice price={cheapestPrice} />}\n          </div>\n        </div>\n      </div>\n    </LocalizedClientLink>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AAEA;AACA;AACA;;;;;;;AAEe,eAAe,eAAe,EAC3C,OAAO,EACP,UAAU,EACV,MAAM,EAKP;IACC,6CAA6C;IAC7C,yBAAyB;IACzB,wCAAwC;IACxC,kDAAkD;IAElD,wBAAwB;IACxB,gBAAgB;IAChB,IAAI;IAEJ,MAAM,EAAE,aAAa,EAAE,GAAG,IAAA,gKAAe,EAAC;QACxC;IACF;IAEA,qBACE,8OAAC,0LAAmB;QAAC,MAAM,CAAC,UAAU,EAAE,QAAQ,MAAM,EAAE;QAAE,WAAU;kBAClE,cAAA,8OAAC;YAAI,eAAY;;8BACf,8OAAC,0KAAS;oBACR,WAAW,QAAQ,SAAS;oBAC5B,QAAQ,QAAQ,MAAM;oBACtB,MAAK;oBACL,YAAY;;;;;;8BAEd,8OAAC;oBAAI,WAAU;;sCACb,8OAAC,qLAAI;4BAAC,WAAU;4BAAoB,eAAY;sCAC7C,QAAQ,KAAK;;;;;;sCAEhB,8OAAC;4BAAI,WAAU;sCACZ,+BAAiB,8OAAC,mLAAY;gCAAC,OAAO;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAMnD","debugId":null}},
    {"offset": {"line": 866, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/products/components/related-products/index.tsx"],"sourcesContent":["import { listProducts } from \"@lib/data/products\"\nimport { getRegion } from \"@lib/data/regions\"\nimport { HttpTypes } from \"@medusajs/types\"\nimport Product from \"../product-preview\"\n\ntype RelatedProductsProps = {\n  product: HttpTypes.StoreProduct\n  countryCode: string\n}\n\nexport default async function RelatedProducts({\n  product,\n  countryCode,\n}: RelatedProductsProps) {\n  const region = await getRegion(countryCode)\n\n  if (!region) {\n    return null\n  }\n\n  // edit this function to define your related products logic\n  const queryParams: HttpTypes.StoreProductParams = {}\n  if (region?.id) {\n    queryParams.region_id = region.id\n  }\n  if (product.collection_id) {\n    queryParams.collection_id = [product.collection_id]\n  }\n  if (product.tags) {\n    queryParams.tag_id = product.tags\n      .map((t) => t.id)\n      .filter(Boolean) as string[]\n  }\n  queryParams.is_giftcard = false\n\n  const products = await listProducts({\n    queryParams,\n    countryCode,\n  }).then(({ response }) => {\n    return response.products.filter(\n      (responseProduct) => responseProduct.id !== product.id\n    )\n  })\n\n  if (!products.length) {\n    return null\n  }\n\n  return (\n    <div className=\"product-page-constraint\">\n      <div className=\"flex flex-col items-center text-center mb-16\">\n        <span className=\"text-base-regular text-gray-600 mb-6\">\n          Related products\n        </span>\n        <p className=\"text-2xl-regular text-ui-fg-base max-w-lg\">\n          You might also want to check out these products.\n        </p>\n      </div>\n\n      <ul className=\"grid grid-cols-2 small:grid-cols-3 medium:grid-cols-4 gap-x-6 gap-y-8\">\n        {products.map((product) => (\n          <li key={product.id}>\n            <Product region={region} product={product} />\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAOe,eAAe,gBAAgB,EAC5C,OAAO,EACP,WAAW,EACU;IACrB,MAAM,SAAS,MAAM,IAAA,0IAAS,EAAC;IAE/B,IAAI,CAAC,QAAQ;QACX,OAAO;IACT;IAEA,2DAA2D;IAC3D,MAAM,cAA4C,CAAC;IACnD,IAAI,QAAQ,IAAI;QACd,YAAY,SAAS,GAAG,OAAO,EAAE;IACnC;IACA,IAAI,QAAQ,aAAa,EAAE;QACzB,YAAY,aAAa,GAAG;YAAC,QAAQ,aAAa;SAAC;IACrD;IACA,IAAI,QAAQ,IAAI,EAAE;QAChB,YAAY,MAAM,GAAG,QAAQ,IAAI,CAC9B,GAAG,CAAC,CAAC,IAAM,EAAE,EAAE,EACf,MAAM,CAAC;IACZ;IACA,YAAY,WAAW,GAAG;IAE1B,MAAM,WAAW,MAAM,IAAA,8IAAY,EAAC;QAClC;QACA;IACF,GAAG,IAAI,CAAC,CAAC,EAAE,QAAQ,EAAE;QACnB,OAAO,SAAS,QAAQ,CAAC,MAAM,CAC7B,CAAC,kBAAoB,gBAAgB,EAAE,KAAK,QAAQ,EAAE;IAE1D;IAEA,IAAI,CAAC,SAAS,MAAM,EAAE;QACpB,OAAO;IACT;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAK,WAAU;kCAAuC;;;;;;kCAGvD,8OAAC;wBAAE,WAAU;kCAA4C;;;;;;;;;;;;0BAK3D,8OAAC;gBAAG,WAAU;0BACX,SAAS,GAAG,CAAC,CAAC,wBACb,8OAAC;kCACC,cAAA,8OAAC,mLAAO;4BAAC,QAAQ;4BAAQ,SAAS;;;;;;uBAD3B,QAAQ,EAAE;;;;;;;;;;;;;;;;AAO7B","debugId":null}},
    {"offset": {"line": 966, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/products/templates/product-info/index.tsx"],"sourcesContent":["import { HttpTypes } from \"@medusajs/types\"\nimport { Heading, Text } from \"@medusajs/ui\"\nimport LocalizedClientLink from \"@modules/common/components/localized-client-link\"\n\ntype ProductInfoProps = {\n  product: HttpTypes.StoreProduct\n}\n\nconst ProductInfo = ({ product }: ProductInfoProps) => {\n  return (\n    <div id=\"product-info\">\n      <div className=\"flex flex-col gap-y-4 lg:max-w-[500px] mx-auto\">\n        {product.collection && (\n          <LocalizedClientLink\n            href={`/collections/${product.collection.handle}`}\n            className=\"text-medium text-ui-fg-muted hover:text-ui-fg-subtle\"\n          >\n            {product.collection.title}\n          </LocalizedClientLink>\n        )}\n        <Heading\n          level=\"h2\"\n          className=\"text-3xl leading-10 text-ui-fg-base\"\n          data-testid=\"product-title\"\n        >\n          {product.title}\n        </Heading>\n\n        <Text\n          className=\"text-medium text-ui-fg-subtle whitespace-pre-line\"\n          data-testid=\"product-description\"\n        >\n          {product.description}\n        </Text>\n      </div>\n    </div>\n  )\n}\n\nexport default ProductInfo\n"],"names":[],"mappings":";;;;;AACA;AAAA;AACA;;;;AAMA,MAAM,cAAc,CAAC,EAAE,OAAO,EAAoB;IAChD,qBACE,8OAAC;QAAI,IAAG;kBACN,cAAA,8OAAC;YAAI,WAAU;;gBACZ,QAAQ,UAAU,kBACjB,8OAAC,0LAAmB;oBAClB,MAAM,CAAC,aAAa,EAAE,QAAQ,UAAU,CAAC,MAAM,EAAE;oBACjD,WAAU;8BAET,QAAQ,UAAU,CAAC,KAAK;;;;;;8BAG7B,8OAAC,8LAAO;oBACN,OAAM;oBACN,WAAU;oBACV,eAAY;8BAEX,QAAQ,KAAK;;;;;;8BAGhB,8OAAC,qLAAI;oBACH,WAAU;oBACV,eAAY;8BAEX,QAAQ,WAAW;;;;;;;;;;;;;;;;;AAK9B;uCAEe","debugId":null}},
    {"offset": {"line": 1028, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/lib/util/repeat.ts"],"sourcesContent":["const repeat = (times: number) => {\n  return Array.from(Array(times).keys())\n}\n\nexport default repeat\n"],"names":[],"mappings":";;;;AAAA,MAAM,SAAS,CAAC;IACd,OAAO,MAAM,IAAI,CAAC,MAAM,OAAO,IAAI;AACrC;uCAEe","debugId":null}},
    {"offset": {"line": 1040, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/skeletons/components/skeleton-product-preview/index.tsx"],"sourcesContent":["import { Container } from \"@medusajs/ui\"\n\nconst SkeletonProductPreview = () => {\n  return (\n    <div className=\"animate-pulse\">\n      <Container className=\"aspect-[9/16] w-full bg-gray-100 bg-ui-bg-subtle\" />\n      <div className=\"flex justify-between text-base-regular mt-2\">\n        <div className=\"w-2/5 h-6 bg-gray-100\"></div>\n        <div className=\"w-1/5 h-6 bg-gray-100\"></div>\n      </div>\n    </div>\n  )\n}\n\nexport default SkeletonProductPreview\n"],"names":[],"mappings":";;;;;AAAA;;;AAEA,MAAM,yBAAyB;IAC7B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,oMAAS;gBAAC,WAAU;;;;;;0BACrB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;AAIvB;uCAEe","debugId":null}},
    {"offset": {"line": 1094, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/skeletons/templates/skeleton-related-products/index.tsx"],"sourcesContent":["import repeat from \"@lib/util/repeat\"\nimport SkeletonProductPreview from \"@modules/skeletons/components/skeleton-product-preview\"\n\nconst SkeletonRelatedProducts = () => {\n  return (\n    <div className=\"product-page-constraint\">\n      <div className=\"flex flex-col gap-8 items-center text-center mb-8\">\n        <div className=\"w-20 h-6 animate-pulse bg-gray-100\"></div>\n        <div className=\"flex flex-col gap-4 items-center text-center mb-16\">\n          <div className=\"w-96 h-10 animate-pulse bg-gray-100\"></div>\n          <div className=\"w-48 h-10 animate-pulse bg-gray-100\"></div>\n        </div>\n      </div>\n      <ul className=\"grid grid-cols-2 small:grid-cols-3 medium:grid-cols-4 gap-x-6 gap-y-8 flex-1\">\n        {repeat(3).map((index) => (\n          <li key={index}>\n            <SkeletonProductPreview />\n          </li>\n        ))}\n      </ul>\n    </div>\n  )\n}\n\nexport default SkeletonRelatedProducts\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEA,MAAM,0BAA0B;IAC9B,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAU;;;;;;0CACf,8OAAC;gCAAI,WAAU;;;;;;;;;;;;;;;;;;0BAGnB,8OAAC;gBAAG,WAAU;0BACX,IAAA,uIAAM,EAAC,GAAG,GAAG,CAAC,CAAC,sBACd,8OAAC;kCACC,cAAA,8OAAC,gMAAsB;;;;;uBADhB;;;;;;;;;;;;;;;;AAOnB;uCAEe","debugId":null}},
    {"offset": {"line": 1177, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/products/templates/product-actions-wrapper/index.tsx"],"sourcesContent":["import { listProducts } from \"@lib/data/products\"\nimport { HttpTypes } from \"@medusajs/types\"\nimport ProductActions from \"@modules/products/components/product-actions\"\n\n/**\n * Fetches real time pricing for a product and renders the product actions component.\n */\nexport default async function ProductActionsWrapper({\n  id,\n  region,\n}: {\n  id: string\n  region: HttpTypes.StoreRegion\n}) {\n  const product = await listProducts({\n    queryParams: { id: [id] },\n    regionId: region.id,\n  }).then(({ response }) => response.products[0])\n\n  if (!product) {\n    return null\n  }\n\n  return <ProductActions product={product} region={region} />\n}\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAKe,eAAe,sBAAsB,EAClD,EAAE,EACF,MAAM,EAIP;IACC,MAAM,UAAU,MAAM,IAAA,8IAAY,EAAC;QACjC,aAAa;YAAE,IAAI;gBAAC;aAAG;QAAC;QACxB,UAAU,OAAO,EAAE;IACrB,GAAG,IAAI,CAAC,CAAC,EAAE,QAAQ,EAAE,GAAK,SAAS,QAAQ,CAAC,EAAE;IAE9C,IAAI,CAAC,SAAS;QACZ,OAAO;IACT;IAEA,qBAAO,8OAAC,mLAAc;QAAC,SAAS;QAAS,QAAQ;;;;;;AACnD","debugId":null}},
    {"offset": {"line": 1212, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/modules/products/templates/index.tsx"],"sourcesContent":["import React, { Suspense } from \"react\"\n\nimport ImageGallery from \"@modules/products/components/image-gallery\"\nimport ProductActions from \"@modules/products/components/product-actions\"\nimport ProductOnboardingCta from \"@modules/products/components/product-onboarding-cta\"\nimport ProductTabs from \"@modules/products/components/product-tabs\"\nimport RelatedProducts from \"@modules/products/components/related-products\"\nimport ProductInfo from \"@modules/products/templates/product-info\"\nimport SkeletonRelatedProducts from \"@modules/skeletons/templates/skeleton-related-products\"\nimport { notFound } from \"next/navigation\"\nimport ProductActionsWrapper from \"./product-actions-wrapper\"\nimport { HttpTypes } from \"@medusajs/types\"\n\ntype ProductTemplateProps = {\n  product: HttpTypes.StoreProduct\n  region: HttpTypes.StoreRegion\n  countryCode: string\n}\n\nconst ProductTemplate: React.FC<ProductTemplateProps> = ({\n  product,\n  region,\n  countryCode,\n}) => {\n  if (!product || !product.id) {\n    return notFound()\n  }\n\n  return (\n    <>\n      <div\n        className=\"content-container flex flex-col small:flex-row small:items-start py-6 relative\"\n        data-testid=\"product-container\"\n      >\n        <div className=\"flex flex-col small:sticky small:top-48 small:py-0 small:max-w-[300px] w-full py-8 gap-y-6\">\n          <ProductInfo product={product} />\n          <ProductTabs product={product} />\n        </div>\n        <div className=\"block w-full relative\">\n          <ImageGallery images={product?.images || []} />\n        </div>\n        <div className=\"flex flex-col small:sticky small:top-48 small:py-0 small:max-w-[300px] w-full py-8 gap-y-12\">\n          <ProductOnboardingCta />\n          <Suspense\n            fallback={\n              <ProductActions\n                disabled={true}\n                product={product}\n                region={region}\n              />\n            }\n          >\n            <ProductActionsWrapper id={product.id} region={region} />\n          </Suspense>\n        </div>\n      </div>\n      <div\n        className=\"content-container my-16 small:my-32\"\n        data-testid=\"related-products-container\"\n      >\n        <Suspense fallback={<SkeletonRelatedProducts />}>\n          <RelatedProducts product={product} countryCode={countryCode} />\n        </Suspense>\n      </div>\n    </>\n  )\n}\n\nexport default ProductTemplate\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;AASA,MAAM,kBAAkD,CAAC,EACvD,OAAO,EACP,MAAM,EACN,WAAW,EACZ;IACC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,EAAE;QAC3B,OAAO,IAAA,iMAAQ;IACjB;IAEA,qBACE;;0BACE,8OAAC;gBACC,WAAU;gBACV,eAAY;;kCAEZ,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,+KAAW;gCAAC,SAAS;;;;;;0CACtB,8OAAC,gLAAW;gCAAC,SAAS;;;;;;;;;;;;kCAExB,8OAAC;wBAAI,WAAU;kCACb,cAAA,8OAAC,iLAAY;4BAAC,QAAQ,SAAS,UAAU,EAAE;;;;;;;;;;;kCAE7C,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,6LAAoB;;;;;0CACrB,8OAAC,iNAAQ;gCACP,wBACE,8OAAC,mLAAc;oCACb,UAAU;oCACV,SAAS;oCACT,QAAQ;;;;;;0CAIZ,cAAA,8OAAC,6LAAqB;oCAAC,IAAI,QAAQ,EAAE;oCAAE,QAAQ;;;;;;;;;;;;;;;;;;;;;;;0BAIrD,8OAAC;gBACC,WAAU;gBACV,eAAY;0BAEZ,cAAA,8OAAC,iNAAQ;oBAAC,wBAAU,8OAAC,gMAAuB;;;;;8BAC1C,cAAA,8OAAC,oLAAe;wBAAC,SAAS;wBAAS,aAAa;;;;;;;;;;;;;;;;;;AAK1D;uCAEe","debugId":null}},
    {"offset": {"line": 1364, "column": 0}, "map": {"version":3,"sources":["file:///root/app-storefront/src/app/%5BcountryCode%5D/%28main%29/products/%5Bhandle%5D/page.tsx"],"sourcesContent":["import { Metadata } from \"next\"\nimport { notFound } from \"next/navigation\"\nimport { listProducts } from \"@lib/data/products\"\nimport { getRegion, listRegions } from \"@lib/data/regions\"\nimport ProductTemplate from \"@modules/products/templates\"\n\ntype Props = {\n  params: Promise<{ countryCode: string; handle: string }>\n}\n\nexport async function generateStaticParams() {\n  try {\n    const countryCodes = await listRegions().then((regions) =>\n      regions?.map((r) => r.countries?.map((c) => c.iso_2)).flat()\n    )\n\n    if (!countryCodes) {\n      return []\n    }\n\n    const promises = countryCodes.map(async (country) => {\n      const { response } = await listProducts({\n        countryCode: country,\n        queryParams: { limit: 100, fields: \"handle\" },\n      })\n\n      return {\n        country,\n        products: response.products,\n      }\n    })\n\n    const countryProducts = await Promise.all(promises)\n\n    return countryProducts\n      .flatMap((countryData) =>\n        countryData.products.map((product) => ({\n          countryCode: countryData.country,\n          handle: product.handle,\n        }))\n      )\n      .filter((param) => param.handle)\n  } catch (error) {\n    console.error(\n      `Failed to generate static paths for product pages: ${\n        error instanceof Error ? error.message : \"Unknown error\"\n      }.`\n    )\n    return []\n  }\n}\n\nexport async function generateMetadata(props: Props): Promise<Metadata> {\n  const params = await props.params\n  const { handle } = params\n  const region = await getRegion(params.countryCode)\n\n  if (!region) {\n    notFound()\n  }\n\n  const product = await listProducts({\n    countryCode: params.countryCode,\n    queryParams: { handle },\n  }).then(({ response }) => response.products[0])\n\n  if (!product) {\n    notFound()\n  }\n\n  return {\n    title: `${product.title} | Medusa Store`,\n    description: `${product.title}`,\n    openGraph: {\n      title: `${product.title} | Medusa Store`,\n      description: `${product.title}`,\n      images: product.thumbnail ? [product.thumbnail] : [],\n    },\n  }\n}\n\nexport default async function ProductPage(props: Props) {\n  const params = await props.params\n  const region = await getRegion(params.countryCode)\n\n  if (!region) {\n    notFound()\n  }\n\n  const pricedProduct = await listProducts({\n    countryCode: params.countryCode,\n    queryParams: { handle: params.handle },\n  }).then(({ response }) => response.products[0])\n\n  if (!pricedProduct) {\n    notFound()\n  }\n\n  return (\n    <ProductTemplate\n      product={pricedProduct}\n      region={region}\n      countryCode={params.countryCode}\n    />\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;AACA;AAAA;AACA;AACA;AACA;;;;;;AAMO,eAAe;IACpB,IAAI;QACF,MAAM,eAAe,MAAM,IAAA,4IAAW,IAAG,IAAI,CAAC,CAAC,UAC7C,SAAS,IAAI,CAAC,IAAM,EAAE,SAAS,EAAE,IAAI,CAAC,IAAM,EAAE,KAAK,GAAG;QAGxD,IAAI,CAAC,cAAc;YACjB,OAAO,EAAE;QACX;QAEA,MAAM,WAAW,aAAa,GAAG,CAAC,OAAO;YACvC,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAA,8IAAY,EAAC;gBACtC,aAAa;gBACb,aAAa;oBAAE,OAAO;oBAAK,QAAQ;gBAAS;YAC9C;YAEA,OAAO;gBACL;gBACA,UAAU,SAAS,QAAQ;YAC7B;QACF;QAEA,MAAM,kBAAkB,MAAM,QAAQ,GAAG,CAAC;QAE1C,OAAO,gBACJ,OAAO,CAAC,CAAC,cACR,YAAY,QAAQ,CAAC,GAAG,CAAC,CAAC,UAAY,CAAC;oBACrC,aAAa,YAAY,OAAO;oBAChC,QAAQ,QAAQ,MAAM;gBACxB,CAAC,IAEF,MAAM,CAAC,CAAC,QAAU,MAAM,MAAM;IACnC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CACX,CAAC,mDAAmD,EAClD,iBAAiB,QAAQ,MAAM,OAAO,GAAG,gBAC1C,CAAC,CAAC;QAEL,OAAO,EAAE;IACX;AACF;AAEO,eAAe,iBAAiB,KAAY;IACjD,MAAM,SAAS,MAAM,MAAM,MAAM;IACjC,MAAM,EAAE,MAAM,EAAE,GAAG;IACnB,MAAM,SAAS,MAAM,IAAA,0IAAS,EAAC,OAAO,WAAW;IAEjD,IAAI,CAAC,QAAQ;QACX,IAAA,iMAAQ;IACV;IAEA,MAAM,UAAU,MAAM,IAAA,8IAAY,EAAC;QACjC,aAAa,OAAO,WAAW;QAC/B,aAAa;YAAE;QAAO;IACxB,GAAG,IAAI,CAAC,CAAC,EAAE,QAAQ,EAAE,GAAK,SAAS,QAAQ,CAAC,EAAE;IAE9C,IAAI,CAAC,SAAS;QACZ,IAAA,iMAAQ;IACV;IAEA,OAAO;QACL,OAAO,GAAG,QAAQ,KAAK,CAAC,eAAe,CAAC;QACxC,aAAa,GAAG,QAAQ,KAAK,EAAE;QAC/B,WAAW;YACT,OAAO,GAAG,QAAQ,KAAK,CAAC,eAAe,CAAC;YACxC,aAAa,GAAG,QAAQ,KAAK,EAAE;YAC/B,QAAQ,QAAQ,SAAS,GAAG;gBAAC,QAAQ,SAAS;aAAC,GAAG,EAAE;QACtD;IACF;AACF;AAEe,eAAe,YAAY,KAAY;IACpD,MAAM,SAAS,MAAM,MAAM,MAAM;IACjC,MAAM,SAAS,MAAM,IAAA,0IAAS,EAAC,OAAO,WAAW;IAEjD,IAAI,CAAC,QAAQ;QACX,IAAA,iMAAQ;IACV;IAEA,MAAM,gBAAgB,MAAM,IAAA,8IAAY,EAAC;QACvC,aAAa,OAAO,WAAW;QAC/B,aAAa;YAAE,QAAQ,OAAO,MAAM;QAAC;IACvC,GAAG,IAAI,CAAC,CAAC,EAAE,QAAQ,EAAE,GAAK,SAAS,QAAQ,CAAC,EAAE;IAE9C,IAAI,CAAC,eAAe;QAClB,IAAA,iMAAQ;IACV;IAEA,qBACE,8OAAC,4JAAe;QACd,SAAS;QACT,QAAQ;QACR,aAAa,OAAO,WAAW;;;;;;AAGrC","debugId":null}}]
}